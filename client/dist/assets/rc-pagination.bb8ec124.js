import{k as ue,l as ce,a as pe,_ as he,b as S,e as Ce}from"./@babel.3a8c2b99.js";import{c as y}from"./classnames.894b94fb.js";import{B as Pe}from"./rc-util.48716302.js";import{a as P,r as _}from"./react.6bac1629.js";import{j as m,a as q}from"./@rc-component.577e8b52.js";var ke={items_per_page:"/ page",jump_to:"Go to",jump_to_confirm:"confirm",page:"Page",prev_page:"Previous Page",next_page:"Next Page",prev_5:"Previous 5 Pages",next_5:"Next 5 Pages",prev_3:"Previous 3 Pages",next_3:"Next 3 Pages",page_size:"Page Size"},O={ZERO:48,NINE:57,NUMPAD_ZERO:96,NUMPAD_NINE:105,BACKSPACE:8,DELETE:46,ENTER:13,ARROW_UP:38,ARROW_DOWN:40},Ne={items_per_page:"\u6761/\u9875",jump_to:"\u8DF3\u81F3",jump_to_confirm:"\u786E\u5B9A",page:"\u9875",prev_page:"\u4E0A\u4E00\u9875",next_page:"\u4E0B\u4E00\u9875",prev_5:"\u5411\u524D 5 \u9875",next_5:"\u5411\u540E 5 \u9875",prev_3:"\u5411\u524D 3 \u9875",next_3:"\u5411\u540E 3 \u9875",page_size:"\u9875\u7801"},ge=function(I){ue(d,I);var p=ce(d);function d(){var s;pe(this,d);for(var e=arguments.length,t=new Array(e),l=0;l<e;l++)t[l]=arguments[l];return s=p.call.apply(p,[this].concat(t)),s.state={goInputText:""},s.getValidValue=function(){var a=s.state.goInputText;return!a||Number.isNaN(a)?void 0:Number(a)},s.buildOptionText=function(a){return"".concat(a," ").concat(s.props.locale.items_per_page)},s.changeSize=function(a){s.props.changeSize(Number(a))},s.handleChange=function(a){s.setState({goInputText:a.target.value})},s.handleBlur=function(a){var o=s.props,n=o.goButton,r=o.quickGo,i=o.rootPrefixCls,h=s.state.goInputText;n||h===""||(s.setState({goInputText:""}),!(a.relatedTarget&&(a.relatedTarget.className.indexOf("".concat(i,"-item-link"))>=0||a.relatedTarget.className.indexOf("".concat(i,"-item"))>=0))&&r(s.getValidValue()))},s.go=function(a){var o=s.state.goInputText;o!==""&&(a.keyCode===O.ENTER||a.type==="click")&&(s.setState({goInputText:""}),s.props.quickGo(s.getValidValue()))},s}return he(d,[{key:"getPageSizeOptions",value:function(){var e=this.props,t=e.pageSize,l=e.pageSizeOptions;return l.some(function(a){return a.toString()===t.toString()})?l:l.concat([t.toString()]).sort(function(a,o){var n=Number.isNaN(Number(a))?0:Number(a),r=Number.isNaN(Number(o))?0:Number(o);return n-r})}},{key:"render",value:function(){var e=this,t=this.props,l=t.pageSize,a=t.locale,o=t.rootPrefixCls,n=t.changeSize,r=t.quickGo,i=t.goButton,h=t.selectComponentClass,u=t.buildOptionText,g=t.selectPrefixCls,N=t.disabled,E=this.state.goInputText,v="".concat(o,"-options"),C=h,T=null,w=null,J=null;if(!n&&!r)return null;var D=this.getPageSizeOptions();if(n&&C){var U=D.map(function(k,c){return P.createElement(C.Option,{key:c,value:k.toString()},(u||e.buildOptionText)(k))});T=P.createElement(C,{disabled:N,prefixCls:g,showSearch:!1,className:"".concat(v,"-size-changer"),optionLabelProp:"children",popupMatchSelectWidth:!1,value:(l||D[0]).toString(),onChange:this.changeSize,getPopupContainer:function(c){return c.parentNode},"aria-label":a.page_size,defaultOpen:!1},U)}return r&&(i&&(J=typeof i=="boolean"?P.createElement("button",{type:"button",onClick:this.go,onKeyUp:this.go,disabled:N,className:"".concat(v,"-quick-jumper-button")},a.jump_to_confirm):P.createElement("span",{onClick:this.go,onKeyUp:this.go},i)),w=P.createElement("div",{className:"".concat(v,"-quick-jumper")},a.jump_to,P.createElement("input",{disabled:N,type:"text",value:E,onChange:this.handleChange,onKeyUp:this.go,onBlur:this.handleBlur,"aria-label":a.page}),a.page,J)),P.createElement("li",{className:"".concat(v)},T,w)}}]),d}(P.Component);ge.defaultProps={pageSizeOptions:["10","20","50","100"]};var B=function(p){var d,s=p.rootPrefixCls,e=p.page,t=p.active,l=p.className,a=p.showTitle,o=p.onClick,n=p.onKeyPress,r=p.itemRender,i="".concat(s,"-item"),h=y(i,"".concat(i,"-").concat(e),(d={},S(d,"".concat(i,"-active"),t),S(d,"".concat(i,"-disabled"),!e),S(d,p.className,l),d)),u=function(){o(e)},g=function(v){n(v,o,e)},N=r(e,"page",P.createElement("a",{rel:"nofollow"},e));return N?P.createElement("li",{title:a?e.toString():null,className:h,onClick:u,onKeyPress:g,tabIndex:0},N):null};function $(){}function le(I){var p=Number(I);return typeof p=="number"&&!Number.isNaN(p)&&isFinite(p)&&Math.floor(p)===p}var Se=function(p,d,s){return s};function z(I,p,d){var s=typeof I=="undefined"?p.pageSize:I;return Math.floor((d.total-1)/s)+1}var Ie=function(I){ue(d,I);var p=ce(d);function d(s){var e;pe(this,d),e=p.call(this,s),e.paginationNode=P.createRef(),e.getJumpPrevPage=function(){return Math.max(1,e.state.current-(e.props.showLessItems?3:5))},e.getJumpNextPage=function(){return Math.min(z(void 0,e.state,e.props),e.state.current+(e.props.showLessItems?3:5))},e.getItemIcon=function(n,r){var i=e.props.prefixCls,h=n||m("button",{type:"button","aria-label":r,className:"".concat(i,"-item-link")});return typeof n=="function"&&(h=P.createElement(n,Ce({},e.props))),h},e.isValid=function(n){var r=e.props.total;return le(n)&&n!==e.state.current&&le(r)&&r>0},e.shouldDisplayQuickJumper=function(){var n=e.props,r=n.showQuickJumper,i=n.total,h=e.state.pageSize;return i<=h?!1:r},e.handleKeyDown=function(n){(n.keyCode===O.ARROW_UP||n.keyCode===O.ARROW_DOWN)&&n.preventDefault()},e.handleKeyUp=function(n){var r=e.getValidValue(n),i=e.state.currentInputValue;r!==i&&e.setState({currentInputValue:r}),n.keyCode===O.ENTER?e.handleChange(r):n.keyCode===O.ARROW_UP?e.handleChange(r-1):n.keyCode===O.ARROW_DOWN&&e.handleChange(r+1)},e.handleBlur=function(n){var r=e.getValidValue(n);e.handleChange(r)},e.changePageSize=function(n){var r=e.state.current,i=z(n,e.state,e.props);r=r>i?i:r,i===0&&(r=e.state.current),typeof n=="number"&&("pageSize"in e.props||e.setState({pageSize:n}),"current"in e.props||e.setState({current:r,currentInputValue:r})),e.props.onShowSizeChange(r,n),"onChange"in e.props&&e.props.onChange&&e.props.onChange(r,n)},e.handleChange=function(n){var r=e.props,i=r.disabled,h=r.onChange,u=e.state,g=u.pageSize,N=u.current,E=u.currentInputValue;if(e.isValid(n)&&!i){var v=z(void 0,e.state,e.props),C=n;return n>v?C=v:n<1&&(C=1),"current"in e.props||e.setState({current:C}),C!==E&&e.setState({currentInputValue:C}),h(C,g),C}return N},e.prev=function(){e.hasPrev()&&e.handleChange(e.state.current-1)},e.next=function(){e.hasNext()&&e.handleChange(e.state.current+1)},e.jumpPrev=function(){e.handleChange(e.getJumpPrevPage())},e.jumpNext=function(){e.handleChange(e.getJumpNextPage())},e.hasPrev=function(){return e.state.current>1},e.hasNext=function(){return e.state.current<z(void 0,e.state,e.props)},e.runIfEnter=function(n,r){if(n.key==="Enter"||n.charCode===13){for(var i=arguments.length,h=new Array(i>2?i-2:0),u=2;u<i;u++)h[u-2]=arguments[u];r.apply(void 0,h)}},e.runIfEnterPrev=function(n){e.runIfEnter(n,e.prev)},e.runIfEnterNext=function(n){e.runIfEnter(n,e.next)},e.runIfEnterJumpPrev=function(n){e.runIfEnter(n,e.jumpPrev)},e.runIfEnterJumpNext=function(n){e.runIfEnter(n,e.jumpNext)},e.handleGoTO=function(n){(n.keyCode===O.ENTER||n.type==="click")&&e.handleChange(e.state.currentInputValue)},e.renderPrev=function(n){var r=e.props,i=r.prevIcon,h=r.itemRender,u=h(n,"prev",e.getItemIcon(i,"prev page")),g=!e.hasPrev();return _.exports.isValidElement(u)?_.exports.cloneElement(u,{disabled:g}):u},e.renderNext=function(n){var r=e.props,i=r.nextIcon,h=r.itemRender,u=h(n,"next",e.getItemIcon(i,"next page")),g=!e.hasNext();return _.exports.isValidElement(u)?_.exports.cloneElement(u,{disabled:g}):u};var t=s.onChange!==$,l="current"in s;l&&!t&&console.warn("Warning: You provided a `current` prop to a Pagination component without an `onChange` handler. This will render a read-only component.");var a=s.defaultCurrent;"current"in s&&(a=s.current);var o=s.defaultPageSize;return"pageSize"in s&&(o=s.pageSize),a=Math.min(a,z(o,void 0,s)),e.state={current:a,currentInputValue:a,pageSize:o},e}return he(d,[{key:"componentDidUpdate",value:function(e,t){var l=this.props.prefixCls;if(t.current!==this.state.current&&this.paginationNode.current){var a=this.paginationNode.current.querySelector(".".concat(l,"-item-").concat(t.current));if(a&&document.activeElement===a){var o;a==null||(o=a.blur)===null||o===void 0||o.call(a)}}}},{key:"getValidValue",value:function(e){var t=e.target.value,l=z(void 0,this.state,this.props),a=this.state.currentInputValue,o;return t===""?o=t:Number.isNaN(Number(t))?o=a:t>=l?o=l:o=Number(t),o}},{key:"getShowSizeChanger",value:function(){var e=this.props,t=e.showSizeChanger,l=e.total,a=e.totalBoundaryShowSizeChanger;return typeof t!="undefined"?t:l>a}},{key:"render",value:function(){var e=this.props,t=e.prefixCls,l=e.className,a=e.style,o=e.disabled,n=e.hideOnSinglePage,r=e.total,i=e.locale,h=e.showQuickJumper,u=e.showLessItems,g=e.showTitle,N=e.showTotal,E=e.simple,v=e.itemRender,C=e.showPrevNextJumpers,T=e.jumpPrevIcon,w=e.jumpNextIcon,J=e.selectComponentClass,D=e.selectPrefixCls,U=e.pageSizeOptions,k=this.state,c=k.current,R=k.pageSize,de=k.currentInputValue;if(n===!0&&r<=R)return null;var f=z(void 0,this.state,this.props),x=[],Q=null,F=null,Z=null,Y=null,V=null,A=h&&h.goButton,b=u?1:2,H=c-1>0?c-1:0,X=c+1<f?c+1:f,ee=Pe(this.props,{aria:!0,data:!0}),te=N&&m("li",{className:"".concat(t,"-total-text"),children:N(r,[r===0?0:(c-1)*R+1,c*R>r?r:c*R])});if(E){A&&(typeof A=="boolean"?V=m("button",{type:"button",onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:i.jump_to_confirm}):V=m("span",{onClick:this.handleGoTO,onKeyUp:this.handleGoTO,children:A}),V=m("li",{title:g?"".concat(i.jump_to).concat(c,"/").concat(f):null,className:"".concat(t,"-simple-pager"),children:V}));var ne=this.renderPrev(H);return q("ul",{className:y(t,"".concat(t,"-simple"),S({},"".concat(t,"-disabled"),o),l),style:a,ref:this.paginationNode,...ee,children:[te,ne?m("li",{title:g?i.prev_page:null,onClick:this.prev,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterPrev,className:y("".concat(t,"-prev"),S({},"".concat(t,"-disabled"),!this.hasPrev())),"aria-disabled":!this.hasPrev(),children:ne}):null,q("li",{title:g?"".concat(c,"/").concat(f):null,className:"".concat(t,"-simple-pager"),children:[m("input",{type:"text",value:de,disabled:o,onKeyDown:this.handleKeyDown,onKeyUp:this.handleKeyUp,onChange:this.handleKeyUp,onBlur:this.handleBlur,size:3}),m("span",{className:"".concat(t,"-slash"),children:"/"}),f]}),m("li",{title:g?i.next_page:null,onClick:this.next,tabIndex:this.hasPrev()?0:null,onKeyPress:this.runIfEnterNext,className:y("".concat(t,"-next"),S({},"".concat(t,"-disabled"),!this.hasNext())),"aria-disabled":!this.hasNext(),children:this.renderNext(X)}),V]})}if(f<=3+b*2){var ae={locale:i,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,showTitle:g,itemRender:v};f||x.push(_.exports.createElement(B,{...ae,key:"noPager",page:1,className:"".concat(t,"-item-disabled")}));for(var j=1;j<=f;j+=1){var fe=c===j;x.push(_.exports.createElement(B,{...ae,key:j,page:j,active:fe}))}}else{var me=u?i.prev_3:i.prev_5,ve=u?i.next_3:i.next_5,re=v(this.getJumpPrevPage(),"jump-prev",this.getItemIcon(T,"prev page")),ie=v(this.getJumpNextPage(),"jump-next",this.getItemIcon(w,"next page"));C&&(Q=re?m("li",{title:g?me:null,onClick:this.jumpPrev,tabIndex:0,onKeyPress:this.runIfEnterJumpPrev,className:y("".concat(t,"-jump-prev"),S({},"".concat(t,"-jump-prev-custom-icon"),!!T)),children:re},"prev"):null,F=ie?m("li",{title:g?ve:null,tabIndex:0,onClick:this.jumpNext,onKeyPress:this.runIfEnterJumpNext,className:y("".concat(t,"-jump-next"),S({},"".concat(t,"-jump-next-custom-icon"),!!w)),children:ie},"next"):null),Y=m(B,{locale:i,last:!0,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:f,active:!1,showTitle:g,itemRender:v},f),Z=m(B,{locale:i,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:1,active:!1,showTitle:g,itemRender:v},1);var G=Math.max(1,c-b),W=Math.min(c+b,f);c-1<=b&&(W=1+b*2),f-c<=b&&(G=f-b*2);for(var K=G;K<=W;K+=1){var xe=c===K;x.push(m(B,{locale:i,rootPrefixCls:t,onClick:this.handleChange,onKeyPress:this.runIfEnter,page:K,active:xe,showTitle:g,itemRender:v},K))}c-1>=b*2&&c!==1+2&&(x[0]=_.exports.cloneElement(x[0],{className:"".concat(t,"-item-after-jump-prev")}),x.unshift(Q)),f-c>=b*2&&c!==f-2&&(x[x.length-1]=_.exports.cloneElement(x[x.length-1],{className:"".concat(t,"-item-before-jump-next")}),x.push(F)),G!==1&&x.unshift(Z),W!==f&&x.push(Y)}var L=!this.hasPrev()||!f,M=!this.hasNext()||!f,se=this.renderPrev(H),oe=this.renderNext(X);return q("ul",{className:y(t,l,S({},"".concat(t,"-disabled"),o)),style:a,ref:this.paginationNode,...ee,children:[te,se?m("li",{title:g?i.prev_page:null,onClick:this.prev,tabIndex:L?null:0,onKeyPress:this.runIfEnterPrev,className:y("".concat(t,"-prev"),S({},"".concat(t,"-disabled"),L)),"aria-disabled":L,children:se}):null,x,oe?m("li",{title:g?i.next_page:null,onClick:this.next,tabIndex:M?null:0,onKeyPress:this.runIfEnterNext,className:y("".concat(t,"-next"),S({},"".concat(t,"-disabled"),M)),"aria-disabled":M,children:oe}):null,m(ge,{disabled:o,locale:i,rootPrefixCls:t,selectComponentClass:J,selectPrefixCls:D,changeSize:this.getShowSizeChanger()?this.changePageSize:null,current:c,pageSize:R,pageSizeOptions:U,quickGo:this.shouldDisplayQuickJumper()?this.handleChange:null,goButton:A})]})}}],[{key:"getDerivedStateFromProps",value:function(e,t){var l={};if("current"in e&&(l.current=e.current,e.current!==t.current&&(l.currentInputValue=l.current)),"pageSize"in e&&e.pageSize!==t.pageSize){var a=t.current,o=z(e.pageSize,t,e);a=a>o?o:a,"current"in e||(l.current=a,l.currentInputValue=a),l.pageSize=e.pageSize}return l}}]),d}(P.Component);Ie.defaultProps={defaultCurrent:1,total:0,defaultPageSize:10,onChange:$,className:"",selectPrefixCls:"rc-select",prefixCls:"rc-pagination",selectComponentClass:null,hideOnSinglePage:!1,showPrevNextJumpers:!0,showQuickJumper:!1,showLessItems:!1,showTitle:!0,onShowSizeChange:$,locale:Ne,style:{},itemRender:Se,totalBoundaryShowSizeChanger:50};export{Ie as P,ke as e};
