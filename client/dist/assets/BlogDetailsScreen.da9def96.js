import{a}from"./react.6bac1629.js";import{i as _,B as C,S as k,b as j,C as B,w as I}from"./index.05c2ef0f.js";import{u as f,a as A}from"./react-redux.3f289702.js";import{h as U}from"./html-react-parser.f4257340.js";import{m as z}from"./moment.851b41e1.js";import{k as R,l as D,m as E,b as F}from"./react-icons.5432a36c.js";import{I as O,_ as H}from"./react-hot-toast.9c82a8f7.js";import{F as L}from"./Footer.62be5563.js";import{a as i,j as t}from"./@rc-component.577e8b52.js";import{d as P}from"./react-router.48f4d0ba.js";import"./react-dom.743d3922.js";import"./scheduler.3d82e58a.js";import"./react-router-dom.112421e8.js";import"./@remix-run.0f90e68c.js";import"./@reduxjs.ad644bad.js";import"./immer.a5abe755.js";import"./redux.25e2e7b8.js";import"./@babel.3a8c2b99.js";import"./redux-thunk.c6126e9b.js";import"./axios.58752079.js";import"./react-loader-spinner.370fdd40.js";import"./styled-components.636ce670.js";import"./react-is.484b48b3.js";import"./@emotion.21aae260.js";import"./hoist-non-react-statics.798fddd9.js";import"./styled-tools.6bc36e93.js";import"./react-dropzone.5b3a91bf.js";import"./prop-types.d8c62f81.js";import"./file-selector.46695f03.js";import"./tslib.3ddc700f.js";import"./attr-accept.94211af6.js";import"./@react-oauth.10fc6879.js";import"./redux-persist.f9308c0e.js";import"./use-sync-external-store.b020237b.js";import"./rc-util.48716302.js";import"./classnames.894b94fb.js";import"./rc-resize-observer.5e4ec66b.js";import"./resize-observer-polyfill.8deb1e21.js";import"./rc-motion.a469ddb1.js";import"./goober.2053c3e8.js";import"./react-property.eaac8e83.js";import"./domelementtype.4be9d55f.js";import"./html-dom-parser.f4715b63.js";import"./style-to-js.c8bbc4eb.js";import"./style-to-object.0e87b645.js";import"./inline-style-parser.6dc90e75.js";const Re=()=>{var c,p,l,x;const{blogs:s}=f(r=>r.blogs),h=P(),{_id:m}=f(r=>r.auth),[e,u]=a.useState(),[v,o]=a.useState(!1),d=A(),[N,w]=a.useState(),{id:y}=h;a.useEffect(()=>{d(_())},[]),a.useEffect(()=>{if(o(!0),s.length>0){const r=s==null?void 0:s.find(n=>(n==null?void 0:n._id)===y);u(r)}else o(!1);o(!1)},[s,e]);const S=async()=>{if(!m)return H("Sorry you have to sign in to like blog post");d(I({blogId:e==null?void 0:e._id,userId:m}))};return i("div",{className:"flex flex-col items-center justify-center w-full",children:[t(O,{}),v?t(C,{}):i("section",{className:"mx-auto max-w-5xl flex flex-col px-5 py-5 lg:gap-x-5",children:[i("article",{className:"md:w-[1000px]",children:[t("img",{className:"rounded-xl w-full md:h-[600px] md:w-[1000px] object-cover",src:e==null?void 0:e.image,alt:e==null?void 0:e.title}),i("div",{className:"",children:[i("div",{className:"",children:[i("div",{className:"flex items-center w-full justify-between",children:[t("h1",{className:"text-xl font-medium font-roboto mt-2 text-dark-hard md:text-[26px]",children:e==null?void 0:e.title}),t("h1",{className:"font-medium text-lighter mt-2 text-dark-hard md:text-[15px]",children:z(e==null?void 0:e.createdAt).fromNow()})]}),i("div",{className:"flex items-center justify-between text-lighter",children:[i("h1",{className:"font-medium text-lighter mt-2 text-dark-hard md:text-[15px]",children:[(c=e==null?void 0:e.user)==null?void 0:c.given_name," ",(p=e==null?void 0:e.user)==null?void 0:p.family_name]}),i("div",{className:"flex gap-4",children:[i("div",{onClick:S,className:`${(l=e==null?void 0:e.lovedUsers)!=null&&l.find(r=>r._id===m)?"text-red":""} flex text-[12px] gap-2 items-center hover:text-red duration-300 cursor-pointer`,children:[e==null?void 0:e.loveCount,(x=e==null?void 0:e.lovedUsers)!=null&&x.find(r=>r._id===m)?t(R,{size:18}):t(D,{size:18})]}),i("div",{className:"flex text-[12px] gap-2 items-center",children:[e==null?void 0:e.viewCount,t(E,{size:18})]}),i("div",{className:"flex text-[12px] gap-2 items-center",children:[N,t(F,{size:18})]})]})]})]}),i("div",{className:"flex items-end justify-end gap-4 mt-2",children:[t("h2",{className:"text-primary text-[14px]",children:"Share on"}),t(k,{url:encodeURI(j+(e==null?void 0:e._id)),title:encodeURIComponent(e==null?void 0:e.title)})]}),t("p",{className:"font-roboto mt-2 text-dark-hard md:text-[18px]",children:U(`${e==null?void 0:e.message}`)})]})]}),t("div",{}),t("div",{children:t(B,{blogId:e==null?void 0:e._id,userId:m,setCommentsCount:w})})]}),t("div",{className:"mb-40 mt-10 px-2 md:px-10",children:t(L,{})})]})};export{Re as default};
