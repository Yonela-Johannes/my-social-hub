import{r as s}from"./react.6bac1629.js";import{L as j}from"./Layout.d1961964.js";import{a as C,u as g}from"./react-redux.49c0f1c3.js";import{G as H,k as V,l as F,C as M,E as L,J as A,z as E,H as P,u as O,K as B,D as $}from"./react-icons.4e2f3ad6.js";import{F as D}from"./Footer.1c61b4d3.js";import{I as G,_}from"./react-hot-toast.9c82a8f7.js";import{u as I,x as Y,y as J}from"./index.0d18c3ee.js";import{a as t,j as e}from"./@rc-component.1251c77a.js";import{a as S,b as K}from"./react-router.ddd05982.js";import"./react-dom.743d3922.js";import"./scheduler.3d82e58a.js";import"./hoist-non-react-statics.798fddd9.js";import"./react-is.484b48b3.js";import"./use-sync-external-store.b020237b.js";import"./react-router-dom.4fd390f9.js";import"./@remix-run.0f90e68c.js";import"./goober.2053c3e8.js";import"./@reduxjs.ad644bad.js";import"./immer.a5abe755.js";import"./redux.25e2e7b8.js";import"./@babel.3a8c2b99.js";import"./redux-thunk.c6126e9b.js";import"./axios.58752079.js";import"./react-loader-spinner.370fdd40.js";import"./styled-components.636ce670.js";import"./@emotion.21aae260.js";import"./styled-tools.6bc36e93.js";import"./moment.4889ea25.js";import"./attr-accept.d4f66889.js";import"./html-react-parser.161f3490.js";import"./react-property.eaac8e83.js";import"./domelementtype.4be9d55f.js";import"./html-dom-parser.b90dc621.js";import"./style-to-js.d7109a81.js";import"./style-to-object.0e87b645.js";import"./inline-style-parser.6dc90e75.js";import"./react-dropzone.3c4c4f90.js";import"./prop-types.d8c62f81.js";import"./file-selector.46695f03.js";import"./tslib.3ddc700f.js";import"./@react-oauth.9cfe8954.js";import"./redux-persist.f9308c0e.js";import"./rc-util.48716302.js";import"./classnames.894b94fb.js";import"./rc-resize-observer.5e4ec66b.js";import"./resize-observer-polyfill.8deb1e21.js";import"./rc-motion.a469ddb1.js";const T=({story:{caption:c,user:i,story:p,_id:n,lovedUsers:r,loveCount:h,viewCount:x,commentCount:u}})=>{const[d,a]=s.exports.useState(!1),[q,v]=s.exports.useState(!1),[f,N]=s.exports.useState(!0),l=s.exports.useRef(null),b=C(),w=S(),{_id:m}=g(o=>o.auth),y=()=>{var o,k;d?((o=l==null?void 0:l.current)==null||o.pause(),a(!1)):((k=l==null?void 0:l.current)==null||k.play(),a(!0))};s.exports.useEffect(()=>{l!=null&&l.current&&(l.current.muted=f)},[f]);const z=async()=>{if(!m)return _("Sorry you have to sign in to like post");if(!n)return _("Sorry you have to sign in to like post");b(I({storyId:n,userId:m}))};return t("div",{onClick:()=>{b(Y(n))},className:"flex flex-col rounded-xl bg-bg_alt",children:[e(G,{}),e("div",{children:t("div",{className:"flex gap-3 p-2 cursor-pointer font-semibold rounded ",children:[e("div",{className:"md:w-16 md:h-16 w-10 h-10",children:e("div",{children:e("div",{children:e("img",{className:"w-16 h-16 object-center object-cover rounded-full",src:i==null?void 0:i.picture,alt:"user-profile",layout:"responsive"})})})}),t("div",{children:[t("div",{className:"flex items-center gap-2",children:[t("p",{className:"flex gap-2 items-center md:text-md font-bold text-secondary",children:[i==null?void 0:i.given_name,e(H,{className:"text-md"})]}),t("p",{className:"capitalize font-medium text-lighter hidden md:block",children:[i==null?void 0:i.given_name," ",i==null?void 0:i.family_name]})]}),e("div",{onClick:()=>w(`/details/${n}`),children:e("p",{className:"mt-2 font-normal ",children:c})})]})]})}),e("div",{className:"flex gap-4 relative",children:t("div",{onMouseEnter:()=>v(!0),onMouseLeave:()=>v(!1),className:"rounded-3xl",children:[e("div",{className:"relative",onClick:()=>w(`/details/${n}`),children:e("video",{loop:!0,muted:!0,ref:l,src:p,className:"lg:w-[600px] h-[300px] md:h-[400px] object-cover lg:h-[528px] w-[200px] rounded-2xl cursor-pointer"})}),e("div",{className:"absolute bottom-2   py-2 px-2",children:e("div",{className:"flex items-center text-base text-white p-1 rounded-b-md left-2 gap-2",children:t("div",{className:"flex gap-4",children:[t("div",{onClick:z,className:`${r!=null&&r.find(o=>(o==null?void 0:o._id)===m)?"text-red":""} flex text-[12px] gap-2 items-center hover:text-red duration-300 cursor-pointer`,children:[h,r!=null&&r.find(o=>(o==null?void 0:o._id)===m)?e("div",{className:"cursor-pointer border border-red rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(V,{size:18})}):e("div",{className:"cursor-pointer border border-lighter text-lighter rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(F,{size:18})})]}),t("div",{className:"flex text-[12px] gap-2 items-center",children:[x,e("div",{className:"cursor-pointer border border-lighter text-lighter rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(M,{size:18})})]}),t("div",{className:"flex text-[12px] gap-2 items-center",children:[u,e("div",{className:"cursor-pointer border border-lighter text-lighter rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(L,{size:18})})]})]})})}),t("div",{className:"absolute bottom-6 cursor-pointer flex gap-4 right-2 w-[100px]",children:[d?e("div",{onClick:y,className:"cursor-pointer text-white rounded-full p-2 bg-green duration-300 hover:text-white",children:e(A,{size:18})}):e("div",{onClick:y,className:"cursor-pointer text-white rounded-full p-2 bg-green duration-300 hover:text-white",children:e(E,{size:18})}),f?e("div",{onClick:()=>N(!1),className:"cursor-pointer text-white rounded-full p-2 bg-green duration-300 hover:text-white",children:e(P,{size:18})}):e("div",{onClick:()=>N(!0),className:"cursor-pointer text-white rounded-full p-2 bg-green duration-300 hover:text-white",children:e(O,{size:18})})]})]})})]})},W=({text:c})=>t("div",{className:"flex flex-col justify-center items-center h-full w-full",children:[e("p",{className:"text-8xl",children:e(B,{})}),e("p",{className:"text-2xl text-center",children:c})]}),Ye=()=>{const{given_name:c,family_name:i,email:p,isAdmin:n}=g(a=>a.auth),{stories:r}=g(a=>a.stories),h=S(),x=C(),u=K(),{pathname:d}=u;return s.exports.useEffect(()=>{x(J())},[d]),e(j,{children:t("div",{className:"flex flex-col items-center justify-center",children:[p&&n&&t("div",{className:"flex flex-col sm:flex-row items-center justify-between md:w-[1000px] my-8 pr-8",children:[e("h3",{className:"text-center font-bold text-3xl pb-4",children:"Stories"}),t("div",{className:"flex items-center px-2 w-full justify-around",children:[t("p",{className:"text-center text-lighter text-md",children:[c," ",i,", Bring Your Ideas to Life - Write Your Next Post Today!"]}),e("div",{onClick:()=>h("/create-story"),className:"bg-bg_light p-2 rounded-xl h-min w-min cursor-pointer",children:e($,{size:20})})]})]}),e("div",{className:"flex flex-col gap-10 videos h-full",children:r!=null&&r.length?r==null?void 0:r.map(a=>e(T,{story:a},a._id)):e(W,{text:"No Videos"})}),e("div",{className:"mb-12 md:mb-20",children:e(D,{})})]})})};export{Ye as default};
