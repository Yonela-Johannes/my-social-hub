import{r as t,a as hn}from"./react.6bac1629.js";import"./react-is.484b48b3.js";import{w as ft,k as vt,B as cn,K as E,b as pt,m as mt,e as gt,a as Vn,z as Sn,c as ht,x as bt,p as St,y as xt}from"./rc-util.48716302.js";import{c as Be}from"./classnames.894b94fb.js";import{c as q,e as Z,d as sn,b as te,g as Fe,h as Qe,n as wt,f as Ie}from"./@babel.3a8c2b99.js";import{F as Ct}from"./rc-overflow.80cd5a5b.js";import{T as yt}from"./@rc-component.577e8b52.js";import{L as It}from"./rc-virtual-list.f6c756ea.js";var Kn=t.exports.createContext(null);function Et(){return t.exports.useContext(Kn)}function Dt(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:10,e=t.exports.useState(!1),a=q(e,2),o=a[0],i=a[1],r=t.exports.useRef(null),c=function(){window.clearTimeout(r.current)};t.exports.useEffect(function(){return c},[]);var s=function(g,S){c(),r.current=window.setTimeout(function(){i(g),S&&S()},n)};return[o,s,c]}function $n(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:250,e=t.exports.useRef(null),a=t.exports.useRef(null);t.exports.useEffect(function(){return function(){window.clearTimeout(a.current)}},[]);function o(i){(i||e.current===null)&&(e.current=i),window.clearTimeout(a.current),a.current=window.setTimeout(function(){e.current=null},n)}return[function(){return e.current},o]}function Rt(n,e,a,o){var i=t.exports.useRef(null);i.current={open:e,triggerOpen:a,customizedTrigger:o},t.exports.useEffect(function(){function r(c){var s;if(!((s=i.current)!==null&&s!==void 0&&s.customizedTrigger)){var f=c.target;f.shadowRoot&&c.composed&&(f=c.composedPath()[0]||f),i.current.open&&n().filter(function(g){return g}).every(function(g){return!g.contains(f)&&g!==f})&&i.current.triggerOpen(!1)}}return window.addEventListener("mousedown",r),function(){return window.removeEventListener("mousedown",r)}},[])}var dn=function(e){var a=e.className,o=e.customizeIcon,i=e.customizeIconProps,r=e.onMouseDown,c=e.onClick,s=e.children,f;return typeof o=="function"?f=o(i):f=o,t.exports.createElement("span",{className:a,onMouseDown:function(S){S.preventDefault(),r&&r(S)},style:{userSelect:"none",WebkitUserSelect:"none"},unselectable:"on",onClick:c,"aria-hidden":!0},f!==void 0?f:t.exports.createElement("span",{className:Be(a.split(/\s+/).map(function(g){return"".concat(g,"-icon")}))},s))},Ot=function(e,a){var o,i,r=e.prefixCls,c=e.id,s=e.inputElement,f=e.disabled,g=e.tabIndex,S=e.autoFocus,d=e.autoComplete,x=e.editable,l=e.activeDescendantId,w=e.value,L=e.maxLength,z=e.onKeyDown,O=e.onMouseDown,V=e.onChange,_=e.onPaste,ee=e.onCompositionStart,Y=e.onCompositionEnd,H=e.open,ie=e.attrs,G=s||t.exports.createElement("input",null),U=G,F=U.ref,$=U.props,oe=$.onKeyDown,J=$.onChange,N=$.onMouseDown,ae=$.onCompositionStart,T=$.onCompositionEnd,C=$.style;return ft(!("maxLength"in G.props)),G=t.exports.cloneElement(G,Z(Z(Z({type:"search"},$),{},{id:c,ref:vt(a,F),disabled:f,tabIndex:g,autoComplete:d||"off",autoFocus:S,className:Be("".concat(r,"-selection-search-input"),(o=G)===null||o===void 0||(i=o.props)===null||i===void 0?void 0:i.className),role:"combobox","aria-label":"Search","aria-expanded":H,"aria-haspopup":"listbox","aria-owns":"".concat(c,"_list"),"aria-autocomplete":"list","aria-controls":"".concat(c,"_list"),"aria-activedescendant":H?l:void 0},ie),{},{value:x?w:"",maxLength:L,readOnly:!x,unselectable:x?null:"on",style:Z(Z({},C),{},{opacity:x?null:0}),onKeyDown:function(P){z(P),oe&&oe(P)},onMouseDown:function(P){O(P),N&&N(P)},onChange:function(P){V(P),J&&J(P)},onCompositionStart:function(P){ee(P),ae&&ae(P)},onCompositionEnd:function(P){Y(P),T&&T(P)},onPaste:_})),G},Cn=t.exports.forwardRef(Ot);Cn.displayName="Input";function Wn(n){return Array.isArray(n)?n:n!==void 0?[n]:[]}var Mt=typeof window!="undefined"&&window.document&&window.document.documentElement,Pt=Mt;function Nt(n){return n!=null}function Vt(n){return!n&&n!==0}function Tn(n){return["string","number"].includes(sn(n))}function Bn(n){var e=void 0;return n&&(Tn(n.title)?e=n.title.toString():Tn(n.label)&&(e=n.label.toString())),e}function Tt(n,e){Pt?t.exports.useLayoutEffect(n,e):t.exports.useEffect(n,e)}function Lt(n){var e;return(e=n.key)!==null&&e!==void 0?e:n.value}var Ln=function(e){e.preventDefault(),e.stopPropagation()},_t=function(e){var a=e.id,o=e.prefixCls,i=e.values,r=e.open,c=e.searchValue,s=e.autoClearSearchValue,f=e.inputRef,g=e.placeholder,S=e.disabled,d=e.mode,x=e.showSearch,l=e.autoFocus,w=e.autoComplete,L=e.activeDescendantId,z=e.tabIndex,O=e.removeIcon,V=e.maxTagCount,_=e.maxTagTextLength,ee=e.maxTagPlaceholder,Y=ee===void 0?function(R){return"+ ".concat(R.length," ...")}:ee,H=e.tagRender,ie=e.onToggleOpen,G=e.onRemove,U=e.onInputChange,F=e.onInputPaste,$=e.onInputKeyDown,oe=e.onInputMouseDown,J=e.onInputCompositionStart,N=e.onInputCompositionEnd,ae=t.exports.useRef(null),T=t.exports.useState(0),C=q(T,2),M=C[0],P=C[1],Ee=t.exports.useState(!1),fe=q(Ee,2),le=fe[0],Pe=fe[1],k="".concat(o,"-selection"),Ce=r||d==="multiple"&&s===!1||d==="tags"?c:"",Ne=d==="tags"||d==="multiple"&&s===!1||x&&(r||le);Tt(function(){P(ae.current.scrollWidth)},[Ce]);function y(R,X,re,ce,me){return t.exports.createElement("span",{className:Be("".concat(k,"-item"),te({},"".concat(k,"-item-disabled"),re)),title:Bn(R)},t.exports.createElement("span",{className:"".concat(k,"-item-content")},X),ce&&t.exports.createElement(dn,{className:"".concat(k,"-item-remove"),onMouseDown:Ln,onClick:me,customizeIcon:O},"\xD7"))}function p(R,X,re,ce,me){var ve=function(pe){Ln(pe),ie(!r)};return t.exports.createElement("span",{onMouseDown:ve},H({label:X,value:R,disabled:re,closable:ce,onClose:me}))}function D(R){var X=R.disabled,re=R.label,ce=R.value,me=!S&&!X,ve=re;if(typeof _=="number"&&(typeof re=="string"||typeof re=="number")){var se=String(ve);se.length>_&&(ve="".concat(se.slice(0,_),"..."))}var pe=function(Ve){Ve&&Ve.stopPropagation(),G(R)};return typeof H=="function"?p(ce,ve,X,me,pe):y(R,ve,X,me,pe)}function K(R){var X=typeof Y=="function"?Y(R):Y;return y({title:X},X,!1)}var A=t.exports.createElement("div",{className:"".concat(k,"-search"),style:{width:M},onFocus:function(){Pe(!0)},onBlur:function(){Pe(!1)}},t.exports.createElement(Cn,{ref:f,open:r,prefixCls:o,id:a,inputElement:null,disabled:S,autoFocus:l,autoComplete:w,editable:Ne,activeDescendantId:L,value:Ce,onKeyDown:$,onMouseDown:oe,onChange:U,onPaste:F,onCompositionStart:J,onCompositionEnd:N,tabIndex:z,attrs:cn(e,!0)}),t.exports.createElement("span",{ref:ae,className:"".concat(k,"-search-mirror"),"aria-hidden":!0},Ce,"\xA0")),W=t.exports.createElement(Ct,{prefixCls:"".concat(k,"-overflow"),data:i,renderItem:D,renderRest:K,suffix:A,itemKey:Lt,maxCount:V});return t.exports.createElement(t.exports.Fragment,null,W,!i.length&&!Ce&&t.exports.createElement("span",{className:"".concat(k,"-placeholder")},g))},At=function(e){var a=e.inputElement,o=e.prefixCls,i=e.id,r=e.inputRef,c=e.disabled,s=e.autoFocus,f=e.autoComplete,g=e.activeDescendantId,S=e.mode,d=e.open,x=e.values,l=e.placeholder,w=e.tabIndex,L=e.showSearch,z=e.searchValue,O=e.activeValue,V=e.maxLength,_=e.onInputKeyDown,ee=e.onInputMouseDown,Y=e.onInputChange,H=e.onInputPaste,ie=e.onInputCompositionStart,G=e.onInputCompositionEnd,U=e.title,F=t.exports.useState(!1),$=q(F,2),oe=$[0],J=$[1],N=S==="combobox",ae=N||L,T=x[0],C=z||"";N&&O&&!oe&&(C=O),t.exports.useEffect(function(){N&&J(!1)},[N,O]);var M=S!=="combobox"&&!d&&!L?!1:!!C,P=U===void 0?Bn(T):U,Ee=function(){if(T)return null;var le=M?{visibility:"hidden"}:void 0;return t.exports.createElement("span",{className:"".concat(o,"-selection-placeholder"),style:le},l)};return t.exports.createElement(t.exports.Fragment,null,t.exports.createElement("span",{className:"".concat(o,"-selection-search")},t.exports.createElement(Cn,{ref:r,prefixCls:o,id:i,open:d,inputElement:a,disabled:c,autoFocus:s,autoComplete:f,editable:ae,activeDescendantId:g,value:C,onKeyDown:_,onMouseDown:ee,onChange:function(le){J(!0),Y(le)},onPaste:H,onCompositionStart:ie,onCompositionEnd:G,tabIndex:w,attrs:cn(e,!0),maxLength:N?V:void 0})),!N&&T?t.exports.createElement("span",{className:"".concat(o,"-selection-item"),title:P,style:M?{visibility:"hidden"}:void 0},T.label):null,Ee())};function Ft(n){return![E.ESC,E.SHIFT,E.BACKSPACE,E.TAB,E.WIN_KEY,E.ALT,E.META,E.WIN_KEY_RIGHT,E.CTRL,E.SEMICOLON,E.EQUALS,E.CAPS_LOCK,E.CONTEXT_MENU,E.F1,E.F2,E.F3,E.F4,E.F5,E.F6,E.F7,E.F8,E.F9,E.F10,E.F11,E.F12].includes(n)}var kt=function(e,a){var o=t.exports.useRef(null),i=t.exports.useRef(!1),r=e.prefixCls,c=e.open,s=e.mode,f=e.showSearch,g=e.tokenWithEnter,S=e.autoClearSearchValue,d=e.onSearch,x=e.onSearchSubmit,l=e.onToggleOpen,w=e.onInputKeyDown,L=e.domRef;t.exports.useImperativeHandle(a,function(){return{focus:function(){o.current.focus()},blur:function(){o.current.blur()}}});var z=$n(0),O=q(z,2),V=O[0],_=O[1],ee=function(C){var M=C.which;(M===E.UP||M===E.DOWN)&&C.preventDefault(),w&&w(C),M===E.ENTER&&s==="tags"&&!i.current&&!c&&(x==null||x(C.target.value)),Ft(M)&&l(!0)},Y=function(){_(!0)},H=t.exports.useRef(null),ie=function(C){d(C,!0,i.current)!==!1&&l(!0)},G=function(){i.current=!0},U=function(C){i.current=!1,s!=="combobox"&&ie(C.target.value)},F=function(C){var M=C.target.value;if(g&&H.current&&/[\r\n]/.test(H.current)){var P=H.current.replace(/[\r\n]+$/,"").replace(/\r\n/g," ").replace(/[\r\n]/g," ");M=M.replace(P,H.current)}H.current=null,ie(M)},$=function(C){var M=C.clipboardData,P=M.getData("text");H.current=P},oe=function(C){var M=C.target;if(M!==o.current){var P=document.body.style.msTouchAction!==void 0;P?setTimeout(function(){o.current.focus()}):o.current.focus()}},J=function(C){var M=V();C.target!==o.current&&!M&&s!=="combobox"&&C.preventDefault(),(s!=="combobox"&&(!f||!M)||!c)&&(c&&S!==!1&&d("",!0,!1),l())},N={inputRef:o,onInputKeyDown:ee,onInputMouseDown:Y,onInputChange:F,onInputPaste:$,onInputCompositionStart:G,onInputCompositionEnd:U},ae=s==="multiple"||s==="tags"?t.exports.createElement(_t,Fe({},e,N)):t.exports.createElement(At,Fe({},e,N));return t.exports.createElement("div",{ref:L,className:"".concat(r,"-selector"),onClick:oe,onMouseDown:J},ae)},zn=t.exports.forwardRef(kt);zn.displayName="Selector";var Kt=["prefixCls","disabled","visible","children","popupElement","containerWidth","animation","transitionName","dropdownStyle","dropdownClassName","direction","placement","builtinPlacements","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","getPopupContainer","empty","getTriggerDOMNode","onPopupVisibleChange","onPopupMouseEnter"],$t=function(e){var a=e===!0?0:1;return{bottomLeft:{points:["tl","bl"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},bottomRight:{points:["tr","br"],offset:[0,4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topLeft:{points:["bl","tl"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"},topRight:{points:["br","tr"],offset:[0,-4],overflow:{adjustX:a,adjustY:1},htmlRegion:"scroll"}}},Wt=function(e,a){var o=e.prefixCls;e.disabled;var i=e.visible,r=e.children,c=e.popupElement,s=e.containerWidth,f=e.animation,g=e.transitionName,S=e.dropdownStyle,d=e.dropdownClassName,x=e.direction,l=x===void 0?"ltr":x,w=e.placement,L=e.builtinPlacements,z=e.dropdownMatchSelectWidth,O=e.dropdownRender,V=e.dropdownAlign,_=e.getPopupContainer,ee=e.empty,Y=e.getTriggerDOMNode,H=e.onPopupVisibleChange,ie=e.onPopupMouseEnter,G=Qe(e,Kt),U="".concat(o,"-dropdown"),F=c;O&&(F=O(c));var $=t.exports.useMemo(function(){return L||$t(z)},[L,z]),oe=f?"".concat(U,"-").concat(f):g,J=t.exports.useRef(null);t.exports.useImperativeHandle(a,function(){return{getPopupElement:function(){return J.current}}});var N=Z({minWidth:s},S);return typeof z=="number"?N.width=z:z&&(N.width=s),t.exports.createElement(yt,Fe({},G,{showAction:H?["click"]:[],hideAction:H?["click"]:[],popupPlacement:w||(l==="rtl"?"bottomRight":"bottomLeft"),builtinPlacements:$,prefixCls:U,popupTransitionName:oe,popup:t.exports.createElement("div",{ref:J,onMouseEnter:ie},F),popupAlign:V,popupVisible:i,getPopupContainer:_,popupClassName:Be(d,te({},"".concat(U,"-empty"),ee)),popupStyle:N,getTriggerDOMNode:Y,onPopupVisibleChange:H}),r)},Hn=t.exports.forwardRef(Wt);Hn.displayName="SelectTrigger";function _n(n,e){var a=n.key,o;return"value"in n&&(o=n.value),a!=null?a:o!==void 0?o:"rc-index-key-".concat(e)}function Un(n,e){var a=n||{},o=a.label,i=a.value,r=a.options,c=a.groupLabel,s=o||(e?"children":"label");return{label:s,value:i||"value",options:r||"options",groupLabel:c||s}}function Bt(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.fieldNames,o=e.childrenAsData,i=[],r=Un(a,!1),c=r.label,s=r.value,f=r.options,g=r.groupLabel;function S(d,x){d.forEach(function(l){if(x||!(f in l)){var w=l[s];i.push({key:_n(l,i.length),groupOption:x,data:l,label:l[c],value:w})}else{var L=l[g];L===void 0&&o&&(L=l.label),i.push({key:_n(l,i.length),group:!0,data:l,label:L}),S(l[f],!0)}})}return S(n,!1),i}function xn(n){var e=Z({},n);return"props"in e||Object.defineProperty(e,"props",{get:function(){return pt(!1,"Return type is option instead of Option instance. Please read value directly instead of reading from `props`."),e}}),e}function zt(n,e){if(!e||!e.length)return null;var a=!1;function o(r,c){var s=wt(c),f=s[0],g=s.slice(1);if(!f)return[r];var S=r.split(f);return a=a||S.length>1,S.reduce(function(d,x){return[].concat(Ie(d),Ie(o(x,g)))},[]).filter(function(d){return d})}var i=o(n,e);return a?i:null}function Ht(n,e,a,o,i){var r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!1,c=arguments.length>6?arguments[6]:void 0,s=arguments.length>7?arguments[7]:void 0,f=hn.useMemo(function(){if(sn(o)==="object")return o.clearIcon;if(i)return i},[o,i]),g=hn.useMemo(function(){return!!(!r&&!!o&&(a.length||c)&&!(s==="combobox"&&c===""))},[o,r,a.length,c,s]);return{allowClear:g,clearIcon:hn.createElement(dn,{className:"".concat(n,"-clear"),onMouseDown:e,customizeIcon:f},"\xD7")}}var Ut=["id","prefixCls","className","showSearch","tagRender","direction","omitDomProps","displayValues","onDisplayValuesChange","emptyOptions","notFoundContent","onClear","mode","disabled","loading","getInputElement","getRawInputElement","open","defaultOpen","onDropdownVisibleChange","activeValue","onActiveValueChange","activeDescendantId","searchValue","autoClearSearchValue","onSearch","onSearchSplit","tokenSeparators","allowClear","suffixIcon","clearIcon","OptionList","animation","transitionName","dropdownStyle","dropdownClassName","dropdownMatchSelectWidth","dropdownRender","dropdownAlign","placement","builtinPlacements","getPopupContainer","showAction","onFocus","onBlur","onKeyUp","onKeyDown","onMouseDown"],jt=["value","onChange","removeIcon","placeholder","autoFocus","maxTagCount","maxTagTextLength","maxTagPlaceholder","choiceTransitionName","onInputKeyDown","onPopupScroll","tabIndex"];function wn(n){return n==="tags"||n==="multiple"}var Gt=t.exports.forwardRef(function(n,e){var a,o,i=n.id,r=n.prefixCls,c=n.className,s=n.showSearch,f=n.tagRender,g=n.direction,S=n.omitDomProps,d=n.displayValues,x=n.onDisplayValuesChange,l=n.emptyOptions,w=n.notFoundContent,L=w===void 0?"Not Found":w,z=n.onClear,O=n.mode,V=n.disabled,_=n.loading,ee=n.getInputElement,Y=n.getRawInputElement,H=n.open,ie=n.defaultOpen,G=n.onDropdownVisibleChange,U=n.activeValue,F=n.onActiveValueChange,$=n.activeDescendantId,oe=n.searchValue,J=n.autoClearSearchValue,N=n.onSearch,ae=n.onSearchSplit,T=n.tokenSeparators,C=n.allowClear,M=n.suffixIcon,P=n.clearIcon,Ee=n.OptionList,fe=n.animation,le=n.transitionName,Pe=n.dropdownStyle,k=n.dropdownClassName,Ce=n.dropdownMatchSelectWidth,Ne=n.dropdownRender,y=n.dropdownAlign,p=n.placement,D=n.builtinPlacements,K=n.getPopupContainer,A=n.showAction,W=A===void 0?[]:A,R=n.onFocus,X=n.onBlur,re=n.onKeyUp,ce=n.onKeyDown,me=n.onMouseDown,ve=Qe(n,Ut),se=wn(O),pe=(s!==void 0?s:se)||O==="combobox",Q=Z({},ve);jt.forEach(function(I){delete Q[I]}),S==null||S.forEach(function(I){delete Q[I]});var Ve=t.exports.useState(!1),Ue=q(Ve,2),be=Ue[0],Se=Ue[1];t.exports.useEffect(function(){Se(mt())},[]);var ze=t.exports.useRef(null),ge=t.exports.useRef(null),Te=t.exports.useRef(null),ye=t.exports.useRef(null),xe=t.exports.useRef(null),Le=Dt(),qe=q(Le,3),je=qe[0],Ze=qe[1],Ge=qe[2];t.exports.useImperativeHandle(e,function(){var I,b;return{focus:(I=ye.current)===null||I===void 0?void 0:I.focus,blur:(b=ye.current)===null||b===void 0?void 0:b.blur,scrollTo:function(he){var ne;return(ne=xe.current)===null||ne===void 0?void 0:ne.scrollTo(he)}}});var Re=t.exports.useMemo(function(){var I;if(O!=="combobox")return oe;var b=(I=d[0])===null||I===void 0?void 0:I.value;return typeof b=="string"||typeof b=="number"?String(b):""},[oe,O,d]),en=O==="combobox"&&typeof ee=="function"&&ee()||null,Oe=typeof Y=="function"&&Y(),fn=gt(ge,Oe==null||(a=Oe.props)===null||a===void 0?void 0:a.ref),an=t.exports.useState(!1),nn=q(an,2),Xe=nn[0],rn=nn[1];Vn(function(){rn(!0)},[]);var vn=Sn(!1,{defaultValue:ie,value:H}),un=q(vn,2),ln=un[0],tn=un[1],u=Xe?ln:!1,h=!L&&l;(V||h&&u&&O==="combobox")&&(u=!1);var v=h?!1:u,m=t.exports.useCallback(function(I){var b=I!==void 0?I:!u;V||(tn(b),u!==b&&(G==null||G(b)))},[V,u,tn,G]),B=t.exports.useMemo(function(){return(T||[]).some(function(I){return[`
`,`\r
`].includes(I)})},[T]),j=function(b,de,he){var ne=!0,we=b;F==null||F(null);var De=he?null:zt(b,T);return O!=="combobox"&&De&&(we="",ae==null||ae(De),m(!1),ne=!1),N&&Re!==we&&N(we,{source:de?"typing":"effect"}),ne},_e=function(b){!b||!b.trim()||N(b,{source:"submit"})};t.exports.useEffect(function(){!u&&!se&&O!=="combobox"&&j("",!1,!1)},[u]),t.exports.useEffect(function(){ln&&V&&tn(!1),V&&Ze(!1)},[V]);var Me=$n(),ke=q(Me,2),ue=ke[0],Ke=ke[1],pn=function(b){var de=ue(),he=b.which;if(he===E.ENTER&&(O!=="combobox"&&b.preventDefault(),u||m(!0)),Ke(!!Re),he===E.BACKSPACE&&!de&&se&&!Re&&d.length){for(var ne=Ie(d),we=null,De=ne.length-1;De>=0;De-=1){var on=ne[De];if(!on.disabled){ne.splice(De,1),we=on;break}}we&&x(ne,{type:"remove",values:[we]})}for(var $e=arguments.length,Je=new Array($e>1?$e-1:0),We=1;We<$e;We++)Je[We-1]=arguments[We];if(u&&xe.current){var Nn;(Nn=xe.current).onKeyDown.apply(Nn,[b].concat(Je))}ce==null||ce.apply(void 0,[b].concat(Je))},mn=function(b){for(var de=arguments.length,he=new Array(de>1?de-1:0),ne=1;ne<de;ne++)he[ne-1]=arguments[ne];if(u&&xe.current){var we;(we=xe.current).onKeyUp.apply(we,[b].concat(he))}re==null||re.apply(void 0,[b].concat(he))},yn=function(b){var de=d.filter(function(he){return he!==b});x(de,{type:"remove",values:[b]})},He=t.exports.useRef(!1),Ae=function(){Ze(!0),V||(R&&!He.current&&R.apply(void 0,arguments),W.includes("focus")&&m(!0)),He.current=!0},qn=function(){Ze(!1,function(){He.current=!1,m(!1)}),!V&&(Re&&(O==="tags"?N(Re,{source:"submit"}):O==="multiple"&&N("",{source:"blur"})),X&&X.apply(void 0,arguments))},Ye=[];t.exports.useEffect(function(){return function(){Ye.forEach(function(I){return clearTimeout(I)}),Ye.splice(0,Ye.length)}},[]);var Zn=function(b){var de,he=b.target,ne=(de=Te.current)===null||de===void 0?void 0:de.getPopupElement();if(ne&&ne.contains(he)){var we=setTimeout(function(){var Je=Ye.indexOf(we);if(Je!==-1&&Ye.splice(Je,1),Ge(),!be&&!ne.contains(document.activeElement)){var We;(We=ye.current)===null||We===void 0||We.focus()}});Ye.push(we)}for(var De=arguments.length,on=new Array(De>1?De-1:0),$e=1;$e<De;$e++)on[$e-1]=arguments[$e];me==null||me.apply(void 0,[b].concat(on))},et=t.exports.useState(null),In=q(et,2),En=In[0],nt=In[1],tt=t.exports.useState({}),ot=q(tt,2),at=ot[1];function rt(){at({})}Vn(function(){if(v){var I,b=Math.ceil((I=ze.current)===null||I===void 0?void 0:I.getBoundingClientRect().width);En!==b&&!Number.isNaN(b)&&nt(b)}},[v]);var Dn;Oe&&(Dn=function(b){m(b)}),Rt(function(){var I;return[ze.current,(I=Te.current)===null||I===void 0?void 0:I.getPopupElement()]},v,m,!!Oe);var it=t.exports.useMemo(function(){return Z(Z({},n),{},{notFoundContent:L,open:u,triggerOpen:v,id:i,showSearch:pe,multiple:se,toggleOpen:m})},[n,L,v,u,i,pe,se,m]),Rn=!!M||_,On;Rn&&(On=t.exports.createElement(dn,{className:Be("".concat(r,"-arrow"),te({},"".concat(r,"-arrow-loading"),_)),customizeIcon:M,customizeIconProps:{loading:_,searchValue:Re,open:u,focused:je,showSearch:pe}}));var ut=function(){var b;z==null||z(),(b=ye.current)===null||b===void 0||b.focus(),x([],{type:"clear",values:d}),j("",!1,!1)},Mn=Ht(r,ut,d,C,P,V,Re,O),lt=Mn.allowClear,ct=Mn.clearIcon,st=t.exports.createElement(Ee,{ref:xe}),dt=Be(r,c,(o={},te(o,"".concat(r,"-focused"),je),te(o,"".concat(r,"-multiple"),se),te(o,"".concat(r,"-single"),!se),te(o,"".concat(r,"-allow-clear"),C),te(o,"".concat(r,"-show-arrow"),Rn),te(o,"".concat(r,"-disabled"),V),te(o,"".concat(r,"-loading"),_),te(o,"".concat(r,"-open"),u),te(o,"".concat(r,"-customize-input"),en),te(o,"".concat(r,"-show-search"),pe),o)),Pn=t.exports.createElement(Hn,{ref:Te,disabled:V,prefixCls:r,visible:v,popupElement:st,containerWidth:En,animation:fe,transitionName:le,dropdownStyle:Pe,dropdownClassName:k,direction:g,dropdownMatchSelectWidth:Ce,dropdownRender:Ne,dropdownAlign:y,placement:p,builtinPlacements:D,getPopupContainer:K,empty:l,getTriggerDOMNode:function(){return ge.current},onPopupVisibleChange:Dn,onPopupMouseEnter:rt},Oe?t.exports.cloneElement(Oe,{ref:fn}):t.exports.createElement(zn,Fe({},n,{domRef:ge,prefixCls:r,inputElement:en,ref:ye,id:i,showSearch:pe,autoClearSearchValue:J,mode:O,activeDescendantId:$,tagRender:f,values:d,open:u,onToggleOpen:m,activeValue:U,searchValue:Re,onSearch:j,onSearchSubmit:_e,onRemove:yn,tokenWithEnter:B}))),gn;return Oe?gn=Pn:gn=t.exports.createElement("div",Fe({className:dt},Q,{ref:ze,onMouseDown:Zn,onKeyDown:pn,onKeyUp:mn,onFocus:Ae,onBlur:qn}),je&&!u&&t.exports.createElement("span",{style:{width:0,height:0,position:"absolute",overflow:"hidden",opacity:0},"aria-live":"polite"},"".concat(d.map(function(I){var b=I.label,de=I.value;return["number","string"].includes(sn(b))?b:de}).join(", "))),Pn,On,lt&&ct),t.exports.createElement(Kn.Provider,{value:it},gn)}),Xt=function(n,e){var a=t.exports.useRef({values:new Map,options:new Map}),o=t.exports.useMemo(function(){var r=a.current,c=r.values,s=r.options,f=n.map(function(d){if(d.label===void 0){var x;return Z(Z({},d),{},{label:(x=c.get(d.value))===null||x===void 0?void 0:x.label})}return d}),g=new Map,S=new Map;return f.forEach(function(d){g.set(d.value,d),S.set(d.value,e.get(d.value)||s.get(d.value))}),a.current.values=g,a.current.options=S,f},[n,e]),i=t.exports.useCallback(function(r){return e.get(r)||a.current.options.get(r)},[e]);return[o,i]};function bn(n,e){return Wn(n).join("").toUpperCase().includes(e)}var Yt=function(n,e,a,o,i){return t.exports.useMemo(function(){if(!a||o===!1)return n;var r=e.options,c=e.label,s=e.value,f=[],g=typeof o=="function",S=a.toUpperCase(),d=g?o:function(l,w){return i?bn(w[i],S):w[r]?bn(w[c!=="children"?c:"label"],S):bn(w[s],S)},x=g?function(l){return xn(l)}:function(l){return l};return n.forEach(function(l){if(l[r]){var w=d(a,x(l));if(w)f.push(l);else{var L=l[r].filter(function(z){return d(a,x(z))});L.length&&f.push(Z(Z({},l),{},te({},r,L)))}return}d(a,x(l))&&f.push(l)}),f},[n,o,i,a,e])},An=0,Jt=ht();function Qt(){var n;return Jt?(n=An,An+=1):n="TEST_OR_SSR",n}function qt(n){var e=t.exports.useState(),a=q(e,2),o=a[0],i=a[1];return t.exports.useEffect(function(){i("rc_select_".concat(Qt()))},[]),n||o}var Zt=["children","value"],eo=["children"];function no(n){var e=n,a=e.key,o=e.props,i=o.children,r=o.value,c=Qe(o,Zt);return Z({key:a,value:r!==void 0?r:a,children:i},c)}function jn(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return bt(n).map(function(a,o){if(!t.exports.isValidElement(a)||!a.type)return null;var i=a,r=i.type.isSelectOptGroup,c=i.key,s=i.props,f=s.children,g=Qe(s,eo);return e||!r?no(a):Z(Z({key:"__RC_SELECT_GRP__".concat(c===null?o:c,"__"),label:c},g),{},{options:jn(f)})}).filter(function(a){return a})}function to(n,e,a,o,i){return t.exports.useMemo(function(){var r=n,c=!n;c&&(r=jn(e));var s=new Map,f=new Map,g=function(x,l,w){w&&typeof w=="string"&&x.set(l[w],l)};function S(d){for(var x=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,l=0;l<d.length;l+=1){var w=d[l];!w[a.options]||x?(s.set(w[a.value],w),g(f,w,a.label),g(f,w,o),g(f,w,i)):S(w[a.options],!0)}}return S(r),{options:r,valueOptions:s,labelOptions:f}},[n,e,a,o,i])}function Fn(n){var e=t.exports.useRef();e.current=n;var a=t.exports.useCallback(function(){return e.current.apply(e,arguments)},[]);return a}var Gn=function(){return null};Gn.isSelectOptGroup=!0;var Xn=function(){return null};Xn.isSelectOption=!0;var Yn=t.exports.createContext(null);function oo(){return/(mac\sos|macintosh)/i.test(navigator.appVersion)}var ao=["disabled","title","children","style","className"];function kn(n){return typeof n=="string"||typeof n=="number"}var ro=function(e,a){var o=Et(),i=o.prefixCls,r=o.id,c=o.open,s=o.multiple,f=o.mode,g=o.searchValue,S=o.toggleOpen,d=o.notFoundContent,x=o.onPopupScroll,l=t.exports.useContext(Yn),w=l.flattenOptions,L=l.onActiveValue,z=l.defaultActiveFirstOption,O=l.onSelect,V=l.menuItemSelectedIcon,_=l.rawValues,ee=l.fieldNames,Y=l.virtual,H=l.direction,ie=l.listHeight,G=l.listItemHeight,U="".concat(i,"-item"),F=St(function(){return w},[c,w],function(y,p){return p[0]&&y[1]!==p[1]}),$=t.exports.useRef(null),oe=function(p){p.preventDefault()},J=function(p){$.current&&$.current.scrollTo(typeof p=="number"?{index:p}:p)},N=function(p){for(var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,K=F.length,A=0;A<K;A+=1){var W=(p+A*D+K)%K,R=F[W],X=R.group,re=R.data;if(!X&&!re.disabled)return W}return-1},ae=t.exports.useState(function(){return N(0)}),T=q(ae,2),C=T[0],M=T[1],P=function(p){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;M(p);var K={source:D?"keyboard":"mouse"},A=F[p];if(!A){L(null,-1,K);return}L(A.value,p,K)};t.exports.useEffect(function(){P(z!==!1?N(0):-1)},[F.length,g]);var Ee=t.exports.useCallback(function(y){return _.has(y)&&f!=="combobox"},[f,Ie(_).toString(),_.size]);t.exports.useEffect(function(){var y=setTimeout(function(){if(!s&&c&&_.size===1){var D=Array.from(_)[0],K=F.findIndex(function(A){var W=A.data;return W.value===D});K!==-1&&(P(K),J(K))}});if(c){var p;(p=$.current)===null||p===void 0||p.scrollTo(void 0)}return function(){return clearTimeout(y)}},[c,g,w.length]);var fe=function(p){p!==void 0&&O(p,{selected:!_.has(p)}),s||S(!1)};if(t.exports.useImperativeHandle(a,function(){return{onKeyDown:function(p){var D=p.which,K=p.ctrlKey;switch(D){case E.N:case E.P:case E.UP:case E.DOWN:{var A=0;if(D===E.UP?A=-1:D===E.DOWN?A=1:oo()&&K&&(D===E.N?A=1:D===E.P&&(A=-1)),A!==0){var W=N(C+A,A);J(W),P(W,!0)}break}case E.ENTER:{var R=F[C];R&&!R.data.disabled?fe(R.value):fe(void 0),c&&p.preventDefault();break}case E.ESC:S(!1),c&&p.stopPropagation()}},onKeyUp:function(){},scrollTo:function(p){J(p)}}}),F.length===0)return t.exports.createElement("div",{role:"listbox",id:"".concat(r,"_list"),className:"".concat(U,"-empty"),onMouseDown:oe},d);var le=Object.keys(ee).map(function(y){return ee[y]}),Pe=function(p){return p.label};function k(y,p){var D=y.group;return{role:D?"presentation":"option",id:"".concat(r,"_list_").concat(p)}}var Ce=function(p){var D=F[p];if(!D)return null;var K=D.data||{},A=K.value,W=D.group,R=cn(K,!0),X=Pe(D);return D?t.exports.createElement("div",Fe({"aria-label":typeof X=="string"&&!W?X:null},R,{key:p},k(D,p),{"aria-selected":Ee(A)}),A):null},Ne={role:"listbox",id:"".concat(r,"_list")};return t.exports.createElement(t.exports.Fragment,null,Y&&t.exports.createElement("div",Fe({},Ne,{style:{height:0,width:0,overflow:"hidden"}}),Ce(C-1),Ce(C),Ce(C+1)),t.exports.createElement(It,{itemKey:"key",ref:$,data:F,height:ie,itemHeight:G,fullHeight:!1,onMouseDown:oe,onScroll:x,virtual:Y,direction:H,innerProps:Y?null:Ne},function(y,p){var D,K=y.group,A=y.groupOption,W=y.data,R=y.label,X=y.value,re=W.key;if(K){var ce,me=(ce=W.title)!==null&&ce!==void 0?ce:kn(R)?R.toString():void 0;return t.exports.createElement("div",{className:Be(U,"".concat(U,"-group")),title:me},R!==void 0?R:re)}var ve=W.disabled,se=W.title;W.children;var pe=W.style,Q=W.className,Ve=Qe(W,ao),Ue=xt(Ve,le),be=Ee(X),Se="".concat(U,"-option"),ze=Be(U,Se,Q,(D={},te(D,"".concat(Se,"-grouped"),A),te(D,"".concat(Se,"-active"),C===p&&!ve),te(D,"".concat(Se,"-disabled"),ve),te(D,"".concat(Se,"-selected"),be),D)),ge=Pe(y),Te=!V||typeof V=="function"||be,ye=typeof ge=="number"?ge:ge||X,xe=kn(ye)?ye.toString():void 0;return se!==void 0&&(xe=se),t.exports.createElement("div",Fe({},cn(Ue),Y?{}:k(y,p),{"aria-selected":be,className:ze,title:xe,onMouseMove:function(){C===p||ve||P(p)},onClick:function(){ve||fe(X)},style:pe}),t.exports.createElement("div",{className:"".concat(Se,"-content")},ye),t.exports.isValidElement(V)||be,Te&&t.exports.createElement(dn,{className:"".concat(U,"-option-state"),customizeIcon:V,customizeIconProps:{isSelected:be}},be?"\u2713":null))}))},Jn=t.exports.forwardRef(ro);Jn.displayName="OptionList";var io=["id","mode","prefixCls","backfill","fieldNames","inputValue","searchValue","onSearch","autoClearSearchValue","onSelect","onDeselect","dropdownMatchSelectWidth","filterOption","filterSort","optionFilterProp","optionLabelProp","options","children","defaultActiveFirstOption","menuItemSelectedIcon","virtual","direction","listHeight","listItemHeight","value","defaultValue","labelInValue","onChange"],uo=["inputValue"];function lo(n){return!n||sn(n)!=="object"}var co=t.exports.forwardRef(function(n,e){var a=n.id,o=n.mode,i=n.prefixCls,r=i===void 0?"rc-select":i,c=n.backfill,s=n.fieldNames,f=n.inputValue,g=n.searchValue,S=n.onSearch,d=n.autoClearSearchValue,x=d===void 0?!0:d,l=n.onSelect,w=n.onDeselect,L=n.dropdownMatchSelectWidth,z=L===void 0?!0:L,O=n.filterOption,V=n.filterSort,_=n.optionFilterProp,ee=n.optionLabelProp,Y=n.options,H=n.children,ie=n.defaultActiveFirstOption,G=n.menuItemSelectedIcon,U=n.virtual,F=n.direction,$=n.listHeight,oe=$===void 0?200:$,J=n.listItemHeight,N=J===void 0?20:J,ae=n.value,T=n.defaultValue,C=n.labelInValue,M=n.onChange,P=Qe(n,io),Ee=qt(a),fe=wn(o),le=!!(!Y&&H),Pe=t.exports.useMemo(function(){return O===void 0&&o==="combobox"?!1:O},[O,o]),k=t.exports.useMemo(function(){return Un(s,le)},[JSON.stringify(s),le]),Ce=Sn("",{value:g!==void 0?g:f,postState:function(h){return h||""}}),Ne=q(Ce,2),y=Ne[0],p=Ne[1],D=to(Y,H,k,_,ee),K=D.valueOptions,A=D.labelOptions,W=D.options,R=t.exports.useCallback(function(u){var h=Wn(u);return h.map(function(v){var m,B,j,_e,Me;if(lo(v))m=v;else{var ke;j=v.key,B=v.label,m=(ke=v.value)!==null&&ke!==void 0?ke:j}var ue=K.get(m);if(ue){var Ke;B===void 0&&(B=ue==null?void 0:ue[ee||k.label]),j===void 0&&(j=(Ke=ue==null?void 0:ue.key)!==null&&Ke!==void 0?Ke:m),_e=ue==null?void 0:ue.disabled,Me=ue==null?void 0:ue.title}return{label:B,value:m,key:j,disabled:_e,title:Me}})},[k,ee,K]),X=Sn(T,{value:ae}),re=q(X,2),ce=re[0],me=re[1],ve=t.exports.useMemo(function(){var u,h=R(ce);return o==="combobox"&&Vt((u=h[0])===null||u===void 0?void 0:u.value)?[]:h},[ce,R,o]),se=Xt(ve,K),pe=q(se,2),Q=pe[0],Ve=pe[1],Ue=t.exports.useMemo(function(){if(!o&&Q.length===1){var u=Q[0];if(u.value===null&&(u.label===null||u.label===void 0))return[]}return Q.map(function(h){var v;return Z(Z({},h),{},{label:(v=h.label)!==null&&v!==void 0?v:h.value})})},[o,Q]),be=t.exports.useMemo(function(){return new Set(Q.map(function(u){return u.value}))},[Q]);t.exports.useEffect(function(){if(o==="combobox"){var u,h=(u=Q[0])===null||u===void 0?void 0:u.value;p(Nt(h)?String(h):"")}},[Q]);var Se=Fn(function(u,h){var v,m=h!=null?h:u;return v={},te(v,k.value,u),te(v,k.label,m),v}),ze=t.exports.useMemo(function(){if(o!=="tags")return W;var u=Ie(W),h=function(m){return K.has(m)};return Ie(Q).sort(function(v,m){return v.value<m.value?-1:1}).forEach(function(v){var m=v.value;h(m)||u.push(Se(m,v.label))}),u},[Se,W,K,Q,o]),ge=Yt(ze,k,y,Pe,_),Te=t.exports.useMemo(function(){return o!=="tags"||!y||ge.some(function(u){return u[_||"value"]===y})||ge.some(function(u){return u[k.value]===y})?ge:[Se(y)].concat(Ie(ge))},[Se,_,o,ge,y,k]),ye=t.exports.useMemo(function(){return V?Ie(Te).sort(function(u,h){return V(u,h)}):Te},[Te,V]),xe=t.exports.useMemo(function(){return Bt(ye,{fieldNames:k,childrenAsData:le})},[ye,k,le]),Le=function(h){var v=R(h);if(me(v),M&&(v.length!==Q.length||v.some(function(j,_e){var Me;return((Me=Q[_e])===null||Me===void 0?void 0:Me.value)!==(j==null?void 0:j.value)}))){var m=C?v:v.map(function(j){return j.value}),B=v.map(function(j){return xn(Ve(j.value))});M(fe?m:m[0],fe?B:B[0])}},qe=t.exports.useState(null),je=q(qe,2),Ze=je[0],Ge=je[1],Re=t.exports.useState(0),en=q(Re,2),Oe=en[0],fn=en[1],an=ie!==void 0?ie:o!=="combobox",nn=t.exports.useCallback(function(u,h){var v=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},m=v.source,B=m===void 0?"keyboard":m;fn(h),c&&o==="combobox"&&u!==null&&B==="keyboard"&&Ge(String(u))},[c,o]),Xe=function(h,v,m){var B=function(){var He,Ae=Ve(h);return[C?{label:Ae==null?void 0:Ae[k.label],value:h,key:(He=Ae==null?void 0:Ae.key)!==null&&He!==void 0?He:h}:h,xn(Ae)]};if(v&&l){var j=B(),_e=q(j,2),Me=_e[0],ke=_e[1];l(Me,ke)}else if(!v&&w&&m!=="clear"){var ue=B(),Ke=q(ue,2),pn=Ke[0],mn=Ke[1];w(pn,mn)}},rn=Fn(function(u,h){var v,m=fe?h.selected:!0;m?v=fe?[].concat(Ie(Q),[u]):[u]:v=Q.filter(function(B){return B.value!==u}),Le(v),Xe(u,m),o==="combobox"?Ge(""):(!wn||x)&&(p(""),Ge(""))}),vn=function(h,v){Le(h);var m=v.type,B=v.values;(m==="remove"||m==="clear")&&B.forEach(function(j){Xe(j.value,!1,m)})},un=function(h,v){if(p(h),Ge(null),v.source==="submit"){var m=(h||"").trim();if(m){var B=Array.from(new Set([].concat(Ie(be),[m])));Le(B),Xe(m,!0),p("")}return}v.source!=="blur"&&(o==="combobox"&&Le(h),S==null||S(h))},ln=function(h){var v=h;o!=="tags"&&(v=h.map(function(B){var j=A.get(B);return j==null?void 0:j.value}).filter(function(B){return B!==void 0}));var m=Array.from(new Set([].concat(Ie(be),Ie(v))));Le(m),m.forEach(function(B){Xe(B,!0)})},tn=t.exports.useMemo(function(){var u=U!==!1&&z!==!1;return Z(Z({},D),{},{flattenOptions:xe,onActiveValue:nn,defaultActiveFirstOption:an,onSelect:rn,menuItemSelectedIcon:G,rawValues:be,fieldNames:k,virtual:u,direction:F,listHeight:oe,listItemHeight:N,childrenAsData:le})},[D,xe,nn,an,rn,G,be,k,U,z,oe,N,le]);return t.exports.createElement(Yn.Provider,{value:tn},t.exports.createElement(Gt,Fe({},P,{id:Ee,prefixCls:r,ref:e,omitDomProps:uo,mode:o,displayValues:Ue,onDisplayValuesChange:vn,direction:F,searchValue:y,onSearch:un,autoClearSearchValue:x,onSearchSplit:ln,dropdownMatchSelectWidth:z,OptionList:Jn,emptyOptions:!xe.length,activeValue:Ze,activeDescendantId:"".concat(Ee,"_list_").concat(Oe)})))}),Qn=co;Qn.Option=Xn;Qn.OptGroup=Gn;export{Xn as O,Qn as T,Gn as a};
