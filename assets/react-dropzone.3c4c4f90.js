import{r as c}from"./react.6bac1629.js";import{P as s}from"./prop-types.d8c62f81.js";import{f as Ze}from"./file-selector.46695f03.js";import{_ as er}from"./attr-accept.d4f66889.js";import{j as rr,F as tr}from"./@rc-component.1251c77a.js";function Pe(e){return ir(e)||or(e)||$e(e)||nr()}function nr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function or(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ir(e){if(Array.isArray(e))return fe(e)}function Te(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,o)}return t}function Ie(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Te(Object(t),!0).forEach(function(o){Ke(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Te(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function Ke(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function z(e,r){return cr(e)||ur(e,r)||$e(e,r)||ar()}function ar(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function $e(e,r){if(!!e){if(typeof e=="string")return fe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return fe(e,r)}}function fe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function ur(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var o=[],a=!0,u=!1,l,p;try{for(t=t.call(e);!(a=(l=t.next()).done)&&(o.push(l.value),!(r&&o.length===r));a=!0);}catch(m){u=!0,p=m}finally{try{!a&&t.return!=null&&t.return()}finally{if(u)throw p}}return o}}function cr(e){if(Array.isArray(e))return e}var sr="file-invalid-type",lr="file-too-large",fr="file-too-small",pr="too-many-files",dr=function(r){r=Array.isArray(r)&&r.length===1?r[0]:r;var t=Array.isArray(r)?"one of ".concat(r.join(", ")):r;return{code:sr,message:"File type must be ".concat(t)}},Re=function(r){return{code:lr,message:"File is larger than ".concat(r," ").concat(r===1?"byte":"bytes")}},ke=function(r){return{code:fr,message:"File is smaller than ".concat(r," ").concat(r===1?"byte":"bytes")}},gr={code:pr,message:"Too many files"};function He(e,r){var t=e.type==="application/x-moz-file"||er(e,r);return[t,t?null:dr(r)]}function Be(e,r,t){if(E(e.size))if(E(r)&&E(t)){if(e.size>t)return[!1,Re(t)];if(e.size<r)return[!1,ke(r)]}else{if(E(r)&&e.size<r)return[!1,ke(r)];if(E(t)&&e.size>t)return[!1,Re(t)]}return[!0,null]}function E(e){return e!=null}function yr(e){var r=e.files,t=e.accept,o=e.minSize,a=e.maxSize,u=e.multiple,l=e.maxFiles,p=e.validator;return!u&&r.length>1||u&&l>=1&&r.length>l?!1:r.every(function(m){var C=He(m,t),j=z(C,1),S=j[0],P=Be(m,o,a),T=z(P,1),I=T[0],R=p?p(m):null;return S&&I&&!R})}function q(e){return typeof e.isPropagationStopped=="function"?e.isPropagationStopped():typeof e.cancelBubble!="undefined"?e.cancelBubble:!1}function Y(e){return e.dataTransfer?Array.prototype.some.call(e.dataTransfer.types,function(r){return r==="Files"||r==="application/x-moz-file"}):!!e.target&&!!e.target.files}function Me(e){e.preventDefault()}function mr(e){return e.indexOf("MSIE")!==-1||e.indexOf("Trident/")!==-1}function br(e){return e.indexOf("Edge/")!==-1}function vr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return mr(e)||br(e)}function h(){for(var e=arguments.length,r=new Array(e),t=0;t<e;t++)r[t]=arguments[t];return function(o){for(var a=arguments.length,u=new Array(a>1?a-1:0),l=1;l<a;l++)u[l-1]=arguments[l];return r.some(function(p){return!q(o)&&p&&p.apply(void 0,[o].concat(u)),q(o)})}}function Dr(){return"showOpenFilePicker"in window}function hr(e){if(E(e)){var r=Object.entries(e).filter(function(t){var o=z(t,2),a=o[0],u=o[1],l=!0;return We(a)||(console.warn('Skipped "'.concat(a,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),l=!1),(!Array.isArray(u)||!u.every(Ne))&&(console.warn('Skipped "'.concat(a,'" because an invalid file extension was provided.')),l=!1),l}).reduce(function(t,o){var a=z(o,2),u=a[0],l=a[1];return Ie(Ie({},t),{},Ke({},u,l))},{});return[{description:"Files",accept:r}]}return e}function Ar(e){if(E(e))return Object.entries(e).reduce(function(r,t){var o=z(t,2),a=o[0],u=o[1];return[].concat(Pe(r),[a],Pe(u))},[]).filter(function(r){return We(r)||Ne(r)}).join(",")}function Or(e){return e instanceof DOMException&&(e.name==="AbortError"||e.code===e.ABORT_ERR)}function Er(e){return e instanceof DOMException&&(e.name==="SecurityError"||e.code===e.SECURITY_ERR)}function We(e){return e==="audio/*"||e==="video/*"||e==="image/*"||e==="text/*"||/\w+\/[-+.\w]+/g.test(e)}function Ne(e){return/^.*\.[\w]+$/.test(e)}var Fr=["children"],_r=["open"],wr=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],xr=["refKey","onChange","onClick"];function Cr(e){return Pr(e)||Sr(e)||Ue(e)||jr()}function jr(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Sr(e){if(typeof Symbol!="undefined"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Pr(e){if(Array.isArray(e))return pe(e)}function le(e,r){return Rr(e)||Ir(e,r)||Ue(e,r)||Tr()}function Tr(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ue(e,r){if(!!e){if(typeof e=="string")return pe(e,r);var t=Object.prototype.toString.call(e).slice(8,-1);if(t==="Object"&&e.constructor&&(t=e.constructor.name),t==="Map"||t==="Set")return Array.from(e);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return pe(e,r)}}function pe(e,r){(r==null||r>e.length)&&(r=e.length);for(var t=0,o=new Array(r);t<r;t++)o[t]=e[t];return o}function Ir(e,r){var t=e==null?null:typeof Symbol!="undefined"&&e[Symbol.iterator]||e["@@iterator"];if(t!=null){var o=[],a=!0,u=!1,l,p;try{for(t=t.call(e);!(a=(l=t.next()).done)&&(o.push(l.value),!(r&&o.length===r));a=!0);}catch(m){u=!0,p=m}finally{try{!a&&t.return!=null&&t.return()}finally{if(u)throw p}}return o}}function Rr(e){if(Array.isArray(e))return e}function Le(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);r&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable})),t.push.apply(t,o)}return t}function f(e){for(var r=1;r<arguments.length;r++){var t=arguments[r]!=null?arguments[r]:{};r%2?Le(Object(t),!0).forEach(function(o){de(e,o,t[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):Le(Object(t)).forEach(function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))})}return e}function de(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function G(e,r){if(e==null)return{};var t=kr(e,r),o,a;if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(a=0;a<u.length;a++)o=u[a],!(r.indexOf(o)>=0)&&(!Object.prototype.propertyIsEnumerable.call(e,o)||(t[o]=e[o]))}return t}function kr(e,r){if(e==null)return{};var t={},o=Object.keys(e),a,u;for(u=0;u<o.length;u++)a=o[u],!(r.indexOf(a)>=0)&&(t[a]=e[a]);return t}var J=c.exports.forwardRef(function(e,r){var t=e.children,o=G(e,Fr),a=Mr(o),u=a.open,l=G(a,_r);return c.exports.useImperativeHandle(r,function(){return{open:u}},[u]),rr(tr,{children:t(f(f({},l),{},{open:u}))})});J.displayName="Dropzone";var Ye={disabled:!1,getFilesFromEvent:Ze,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};J.defaultProps=Ye;J.propTypes={children:s.func,accept:s.objectOf(s.arrayOf(s.string)),multiple:s.bool,preventDropOnDocument:s.bool,noClick:s.bool,noKeyboard:s.bool,noDrag:s.bool,noDragEventsBubbling:s.bool,minSize:s.number,maxSize:s.number,maxFiles:s.number,disabled:s.bool,getFilesFromEvent:s.func,onFileDialogCancel:s.func,onFileDialogOpen:s.func,useFsAccessApi:s.bool,autoFocus:s.bool,onDragEnter:s.func,onDragLeave:s.func,onDragOver:s.func,onDrop:s.func,onDropAccepted:s.func,onDropRejected:s.func,onError:s.func,validator:s.func};var Wr=J,ge={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function Mr(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=f(f({},Ye),e),t=r.accept,o=r.disabled,a=r.getFilesFromEvent,u=r.maxSize,l=r.minSize,p=r.multiple,m=r.maxFiles,C=r.onDragEnter,j=r.onDragLeave,S=r.onDragOver,P=r.onDrop,T=r.onDropAccepted,I=r.onDropRejected,R=r.onFileDialogCancel,V=r.onFileDialogOpen,ye=r.useFsAccessApi,me=r.autoFocus,Q=r.preventDropOnDocument,be=r.noClick,X=r.noKeyboard,ve=r.noDrag,A=r.noDragEventsBubbling,Z=r.onError,k=r.validator,M=c.exports.useMemo(function(){return Ar(t)},[t]),De=c.exports.useMemo(function(){return hr(t)},[t]),ee=c.exports.useMemo(function(){return typeof V=="function"?V:ze},[V]),K=c.exports.useMemo(function(){return typeof R=="function"?R:ze},[R]),y=c.exports.useRef(null),D=c.exports.useRef(null),qe=c.exports.useReducer(Lr,ge),he=le(qe,2),re=he[0],b=he[1],Ge=re.isFocused,Ae=re.isFileDialogActive,$=c.exports.useRef(typeof window!="undefined"&&window.isSecureContext&&ye&&Dr()),Oe=function(){!$.current&&Ae&&setTimeout(function(){if(D.current){var i=D.current.files;i.length||(b({type:"closeDialog"}),K())}},300)};c.exports.useEffect(function(){return window.addEventListener("focus",Oe,!1),function(){window.removeEventListener("focus",Oe,!1)}},[D,Ae,K,$]);var F=c.exports.useRef([]),Ee=function(i){y.current&&y.current.contains(i.target)||(i.preventDefault(),F.current=[])};c.exports.useEffect(function(){return Q&&(document.addEventListener("dragover",Me,!1),document.addEventListener("drop",Ee,!1)),function(){Q&&(document.removeEventListener("dragover",Me),document.removeEventListener("drop",Ee))}},[y,Q]),c.exports.useEffect(function(){return!o&&me&&y.current&&y.current.focus(),function(){}},[y,me,o]);var O=c.exports.useCallback(function(n){Z?Z(n):console.error(n)},[Z]),Fe=c.exports.useCallback(function(n){n.preventDefault(),n.persist(),N(n),F.current=[].concat(Cr(F.current),[n.target]),Y(n)&&Promise.resolve(a(n)).then(function(i){if(!(q(n)&&!A)){var d=i.length,g=d>0&&yr({files:i,accept:M,minSize:l,maxSize:u,multiple:p,maxFiles:m,validator:k}),v=d>0&&!g;b({isDragAccept:g,isDragReject:v,isDragActive:!0,type:"setDraggedFiles"}),C&&C(n)}}).catch(function(i){return O(i)})},[a,C,O,A,M,l,u,p,m,k]),_e=c.exports.useCallback(function(n){n.preventDefault(),n.persist(),N(n);var i=Y(n);if(i&&n.dataTransfer)try{n.dataTransfer.dropEffect="copy"}catch{}return i&&S&&S(n),!1},[S,A]),we=c.exports.useCallback(function(n){n.preventDefault(),n.persist(),N(n);var i=F.current.filter(function(g){return y.current&&y.current.contains(g)}),d=i.indexOf(n.target);d!==-1&&i.splice(d,1),F.current=i,!(i.length>0)&&(b({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),Y(n)&&j&&j(n))},[y,j,A]),H=c.exports.useCallback(function(n,i){var d=[],g=[];n.forEach(function(v){var L=He(v,M),x=le(L,2),ne=x[0],oe=x[1],ie=Be(v,l,u),U=le(ie,2),ae=U[0],ue=U[1],ce=k?k(v):null;if(ne&&ae&&!ce)d.push(v);else{var se=[oe,ue];ce&&(se=se.concat(ce)),g.push({file:v,errors:se.filter(function(Xe){return Xe})})}}),(!p&&d.length>1||p&&m>=1&&d.length>m)&&(d.forEach(function(v){g.push({file:v,errors:[gr]})}),d.splice(0)),b({acceptedFiles:d,fileRejections:g,type:"setFiles"}),P&&P(d,g,i),g.length>0&&I&&I(g,i),d.length>0&&T&&T(d,i)},[b,p,M,l,u,m,P,T,I,k]),B=c.exports.useCallback(function(n){n.preventDefault(),n.persist(),N(n),F.current=[],Y(n)&&Promise.resolve(a(n)).then(function(i){q(n)&&!A||H(i,n)}).catch(function(i){return O(i)}),b({type:"reset"})},[a,H,O,A]),_=c.exports.useCallback(function(){if($.current){b({type:"openDialog"}),ee();var n={multiple:p,types:De};window.showOpenFilePicker(n).then(function(i){return a(i)}).then(function(i){H(i,null),b({type:"closeDialog"})}).catch(function(i){Or(i)?(K(i),b({type:"closeDialog"})):Er(i)?($.current=!1,D.current?(D.current.value=null,D.current.click()):O(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):O(i)});return}D.current&&(b({type:"openDialog"}),ee(),D.current.value=null,D.current.click())},[b,ee,K,ye,H,O,De,p]),xe=c.exports.useCallback(function(n){!y.current||!y.current.isEqualNode(n.target)||(n.key===" "||n.key==="Enter"||n.keyCode===32||n.keyCode===13)&&(n.preventDefault(),_())},[y,_]),Ce=c.exports.useCallback(function(){b({type:"focus"})},[]),je=c.exports.useCallback(function(){b({type:"blur"})},[]),Se=c.exports.useCallback(function(){be||(vr()?setTimeout(_,0):_())},[be,_]),w=function(i){return o?null:i},te=function(i){return X?null:w(i)},W=function(i){return ve?null:w(i)},N=function(i){A&&i.stopPropagation()},Je=c.exports.useMemo(function(){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.refKey,d=i===void 0?"ref":i,g=n.role,v=n.onKeyDown,L=n.onFocus,x=n.onBlur,ne=n.onClick,oe=n.onDragEnter,ie=n.onDragOver,U=n.onDragLeave,ae=n.onDrop,ue=G(n,wr);return f(f(de({onKeyDown:te(h(v,xe)),onFocus:te(h(L,Ce)),onBlur:te(h(x,je)),onClick:w(h(ne,Se)),onDragEnter:W(h(oe,Fe)),onDragOver:W(h(ie,_e)),onDragLeave:W(h(U,we)),onDrop:W(h(ae,B)),role:typeof g=="string"&&g!==""?g:"presentation"},d,y),!o&&!X?{tabIndex:0}:{}),ue)}},[y,xe,Ce,je,Se,Fe,_e,we,B,X,ve,o]),Ve=c.exports.useCallback(function(n){n.stopPropagation()},[]),Qe=c.exports.useMemo(function(){return function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=n.refKey,d=i===void 0?"ref":i,g=n.onChange,v=n.onClick,L=G(n,xr),x=de({accept:M,multiple:p,type:"file",style:{display:"none"},onChange:w(h(g,B)),onClick:w(h(v,Ve)),tabIndex:-1},d,D);return f(f({},x),L)}},[D,t,p,B,o]);return f(f({},re),{},{isFocused:Ge&&!o,getRootProps:Je,getInputProps:Qe,rootRef:y,inputRef:D,open:w(_)})}function Lr(e,r){switch(r.type){case"focus":return f(f({},e),{},{isFocused:!0});case"blur":return f(f({},e),{},{isFocused:!1});case"openDialog":return f(f({},ge),{},{isFileDialogActive:!0});case"closeDialog":return f(f({},e),{},{isFileDialogActive:!1});case"setDraggedFiles":return f(f({},e),{},{isDragActive:r.isDragActive,isDragAccept:r.isDragAccept,isDragReject:r.isDragReject});case"setFiles":return f(f({},e),{},{acceptedFiles:r.acceptedFiles,fileRejections:r.fileRejections});case"reset":return f({},ge);default:return e}}function ze(){}export{Wr as D};
