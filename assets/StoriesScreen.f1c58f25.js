import{r as n}from"./react.6bac1629.js";import{L as V}from"./Layout.d1961964.js";import{a as S,u as f}from"./react-redux.49c0f1c3.js";import{G as F,k as L,l as M,D as z,J as P,K as A,L as E,H as O,u as B,N as $,E as D}from"./react-icons.83647485.js";import"./featured.module.752340d1.js";import{a as t,j as e}from"./@rc-component.1251c77a.js";import{F as G}from"./Footer.ade4095c.js";import{I,_ as k}from"./react-hot-toast.9c82a8f7.js";import{m as Y,n as J,o as K}from"./index.aec74e58.js";import{a as C,b as T}from"./react-router.48f4d0ba.js";import"./react-dom.743d3922.js";import"./scheduler.3d82e58a.js";import"./hoist-non-react-statics.798fddd9.js";import"./react-is.484b48b3.js";import"./use-sync-external-store.b020237b.js";import"./@babel.3a8c2b99.js";import"./rc-util.48716302.js";import"./classnames.894b94fb.js";import"./rc-resize-observer.5e4ec66b.js";import"./resize-observer-polyfill.8deb1e21.js";import"./rc-motion.a469ddb1.js";import"./react-router-dom.112421e8.js";import"./@remix-run.0f90e68c.js";import"./goober.2053c3e8.js";import"./@reduxjs.ad644bad.js";import"./immer.a5abe755.js";import"./redux.25e2e7b8.js";import"./redux-thunk.c6126e9b.js";import"./axios.58752079.js";import"./react-loader-spinner.370fdd40.js";import"./styled-components.636ce670.js";import"./@emotion.21aae260.js";import"./styled-tools.6bc36e93.js";import"./moment.4889ea25.js";import"./attr-accept.d4f66889.js";import"./html-react-parser.161f3490.js";import"./react-property.eaac8e83.js";import"./domelementtype.4be9d55f.js";import"./html-dom-parser.b90dc621.js";import"./style-to-js.d7109a81.js";import"./style-to-object.0e87b645.js";import"./inline-style-parser.6dc90e75.js";import"./react-dropzone.59967111.js";import"./prop-types.c466925a.js";import"./file-selector.46695f03.js";import"./tslib.3ddc700f.js";import"./@react-oauth.9cfe8954.js";import"./redux-persist.f9308c0e.js";const W=({story:{caption:c,user:i,story:m,_id:s,lovedUsers:r,loveCount:p,viewCount:x,commentCount:h}})=>{const[d,l]=n.exports.useState(!1),[j,g]=n.exports.useState(!1),[u,v]=n.exports.useState(!0),o=n.exports.useRef(null),N=S(),b=C(),{_id:y}=f(a=>a.auth),w=()=>{var a,_;d?((a=o==null?void 0:o.current)==null||a.pause(),l(!1)):((_=o==null?void 0:o.current)==null||_.play(),l(!0))};n.exports.useEffect(()=>{o!=null&&o.current&&(o.current.muted=u)},[u]);const H=async()=>{if(!y)return k("Sorry you have to sign in to like post");if(!s)return k("Sorry you have to sign in to like post");N(Y({storyId:s,userId:y}))};return t("div",{onClick:()=>{N(J(s))},className:"flex flex-col rounded-xl bg-bg_alt",children:[e(I,{}),e("div",{children:t("div",{className:"flex gap-3 p-2 cursor-pointer font-semibold rounded ",children:[e("div",{className:"md:w-16 md:h-16 w-10 h-10",children:e("div",{children:e("div",{children:e("img",{className:"w-16 h-16 object-center object-cover rounded-full",src:i==null?void 0:i.picture,alt:"user-profile",layout:"responsive"})})})}),t("div",{children:[t("div",{className:"flex items-center gap-2",children:[t("p",{className:"flex gap-2 items-center md:text-md font-bold text-secondary",children:[i==null?void 0:i.given_name,e(F,{className:"text-md"})]}),t("p",{className:"capitalize font-medium text-lighter hidden md:block",children:[i==null?void 0:i.given_name," ",i==null?void 0:i.family_name]})]}),e("div",{onClick:()=>b(`/details/${s}`),children:e("p",{className:"mt-2 font-normal ",children:c})})]})]})}),e("div",{className:"flex gap-4 relative",children:t("div",{onMouseEnter:()=>g(!0),onMouseLeave:()=>g(!1),className:"rounded-3xl",children:[e("div",{className:"relative",onClick:()=>b(`/details/${s}`),children:e("video",{loop:!0,autoPlay:!0,muted:!0,ref:o,src:m,className:"lg:w-[600px] h-[300px] md:h-[400px] object-cover lg:h-[528px] w-[200px] rounded-2xl cursor-pointer"})}),e("div",{className:"absolute bottom-2   py-2 px-2",children:e("div",{className:"flex items-center text-base text-white p-1 rounded-b-md left-2 gap-2",children:t("div",{className:"flex gap-4",children:[t("div",{onClick:H,className:`${r!=null&&r.find(a=>a._id===_id)?"text-red":""} flex text-[12px] gap-2 items-center hover:text-red duration-300 cursor-pointer`,children:[p,r!=null&&r.find(a=>a._id===_id)?e("div",{className:"cursor-pointer border border-red rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(L,{size:18})}):e("div",{className:"cursor-pointer border border-lighter text-lighter rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(M,{size:18})})]}),t("div",{className:"flex text-[12px] gap-2 items-center",children:[x,e("div",{className:"cursor-pointer border border-lighter text-lighter rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(z,{size:18})})]}),t("div",{className:"flex text-[12px] gap-2 items-center",children:[h,e("div",{className:"cursor-pointer border border-lighter text-lighter rounded-full p-2 hover:bg-green duration-300 hover:text-white",children:e(P,{size:18})})]})]})})}),j&&t("div",{className:"absolute bottom-6 cursor-pointer flex gap-4 right-2 w-[100px]",children:[d?e("div",{onClick:w,children:e(A,{className:"text-primary text-3xl"})}):e("div",{onClick:w,children:e(E,{className:"text-primary text-3xl"})}),u?e("div",{onClick:()=>v(!1),children:e(O,{className:"text-primary text-3xl"})}):e("div",{onClick:()=>v(!0),children:e(B,{className:"text-primary text-3xl"})})]})]})})]})},q=({text:c})=>t("div",{className:"flex flex-col justify-center items-center h-full w-full",children:[e("p",{className:"text-8xl",children:e($,{})}),e("p",{className:"text-2xl text-center",children:c})]}),Je=()=>{const{given_name:c,family_name:i,email:m,isAdmin:s}=f(l=>l.auth),{stories:r}=f(l=>l.stories),p=C(),x=S(),h=T(),{pathname:d}=h;return n.exports.useEffect(()=>{x(K())},[d]),e(V,{children:t("div",{className:"flex flex-col items-center justify-center",children:[m&&s&&t("div",{className:"flex flex-col sm:flex-row items-center justify-between md:w-[1000px] my-8 pr-8",children:[e("h3",{className:"text-center font-bold text-3xl pb-4",children:"Stories"}),t("div",{className:"flex items-center px-2 w-full justify-around",children:[t("p",{className:"text-center text-lighter text-md",children:[c," ",i,", Bring Your Ideas to Life - Write Your Next Post Today!"]}),e("div",{onClick:()=>p("/create-story"),className:"bg-bg_light p-2 rounded-xl h-min w-min cursor-pointer",children:e(D,{size:20})})]})]}),e("div",{className:"flex flex-col gap-10 videos h-full",children:r!=null&&r.length?r==null?void 0:r.map(l=>e(W,{story:l},l._id)):e(q,{text:"No Videos"})}),e("div",{className:"mb-12 md:mb-20",children:e(G,{})})]})})};export{Je as default};
