import{c as g}from"./classnames.894b94fb.js";import{r as y}from"./react.6bac1629.js";import{e as W,b as R,d as ae,h as re,c as Z,f as oe}from"./@babel.3a8c2b99.js";import{z as ue,y as ie}from"./rc-util.48716302.js";import{a as T,j as E,F as se}from"./@rc-component.1251c77a.js";function A(e){return!!(e.addonBefore||e.addonAfter)}function Y(e){return!!(e.prefix||e.suffix||e.allowClear)}function ee(e,n,s,c){if(!!s){var t=n;if(n.type==="click"){var r=e.cloneNode(!0);t=Object.create(n,{target:{value:r},currentTarget:{value:r}}),r.value="",s(t);return}if(c!==void 0){t=Object.create(n,{target:{value:e},currentTarget:{value:e}}),e.value=c,s(t);return}s(t)}}function ce(e,n){if(!!e){e.focus(n);var s=n||{},c=s.cursor;if(c){var t=e.value.length;switch(c){case"start":e.setSelectionRange(0,0);break;case"end":e.setSelectionRange(t,t);break;default:e.setSelectionRange(0,t)}}}}function ne(e){return typeof e=="undefined"||e===null?"":String(e)}var de=function(n){var s,c,t=n.inputElement,r=n.prefixCls,$=n.prefix,C=n.suffix,j=n.addonBefore,N=n.addonAfter,b=n.className,D=n.style,O=n.disabled,I=n.readOnly,k=n.focused,w=n.triggerFocus,f=n.allowClear,p=n.value,q=n.handleReset,v=n.hidden,l=n.classes,m=n.classNames,z=n.dataAttrs,d=n.styles,o=n.components,L=(o==null?void 0:o.affixWrapper)||"span",J=(o==null?void 0:o.groupWrapper)||"span",P=(o==null?void 0:o.wrapper)||"span",V=(o==null?void 0:o.groupAddon)||"span",B=y.exports.useRef(null),i=function(h){var x;(x=B.current)!==null&&x!==void 0&&x.contains(h.target)&&(w==null||w())},K=function(){var h;if(!f)return null;var x=!O&&!I&&p,X="".concat(r,"-clear-icon"),te=ae(f)==="object"&&f!==null&&f!==void 0&&f.clearIcon?f.clearIcon:"\u2716";return E("span",{onClick:q,onMouseDown:function(le){return le.preventDefault()},className:g(X,(h={},R(h,"".concat(X,"-hidden"),!x),R(h,"".concat(X,"-has-suffix"),!!C),h)),role:"button",tabIndex:-1,children:te})},M=y.exports.cloneElement(t,{value:p,hidden:v,className:g((s=t.props)===null||s===void 0?void 0:s.className,!Y(n)&&!A(n)&&b)||null,style:W(W({},(c=t.props)===null||c===void 0?void 0:c.style),!Y(n)&&!A(n)?D:{})});if(Y(n)){var S,_="".concat(r,"-affix-wrapper"),Q=g(_,(S={},R(S,"".concat(_,"-disabled"),O),R(S,"".concat(_,"-focused"),k),R(S,"".concat(_,"-readonly"),I),R(S,"".concat(_,"-input-with-clear-btn"),C&&f&&p),S),!A(n)&&b,l==null?void 0:l.affixWrapper,m==null?void 0:m.affixWrapper),U=(C||f)&&T("span",{className:g("".concat(r,"-suffix"),m==null?void 0:m.suffix),style:d==null?void 0:d.suffix,children:[K(),C]});M=T(L,{className:Q,style:W(W({},A(n)?void 0:D),d==null?void 0:d.affixWrapper),hidden:!A(n)&&v,onClick:i,...z==null?void 0:z.affixWrapper,ref:B,children:[$&&E("span",{className:g("".concat(r,"-prefix"),m==null?void 0:m.prefix),style:d==null?void 0:d.prefix,children:$}),y.exports.cloneElement(t,{value:p,hidden:null}),U]})}if(A(n)){var G="".concat(r,"-group"),H="".concat(G,"-addon"),u=g("".concat(r,"-wrapper"),G,l==null?void 0:l.wrapper),a=g("".concat(r,"-group-wrapper"),b,l==null?void 0:l.group);return E(J,{className:a,style:D,hidden:v,children:T(P,{className:u,children:[j&&E(V,{className:H,children:j}),y.exports.cloneElement(M,{hidden:null}),N&&E(V,{className:H,children:N})]})})}return M},fe=["autoComplete","onChange","onFocus","onBlur","onPressEnter","onKeyDown","prefixCls","disabled","htmlSize","className","maxLength","suffix","showCount","type","classes","classNames","styles"],Ce=y.exports.forwardRef(function(e,n){var s=e.autoComplete,c=e.onChange,t=e.onFocus,r=e.onBlur,$=e.onPressEnter,C=e.onKeyDown,j=e.prefixCls,N=j===void 0?"rc-input":j,b=e.disabled,D=e.htmlSize,O=e.className,I=e.maxLength,k=e.suffix,w=e.showCount,f=e.type,p=f===void 0?"text":f,q=e.classes,v=e.classNames,l=e.styles,m=re(e,fe),z=ue(e.defaultValue,{value:e.value}),d=Z(z,2),o=d[0],L=d[1],J=y.exports.useState(!1),P=Z(J,2),V=P[0],B=P[1],i=y.exports.useRef(null),K=function(a){i.current&&ce(i.current,a)};y.exports.useImperativeHandle(n,function(){return{focus:K,blur:function(){var a;(a=i.current)===null||a===void 0||a.blur()},setSelectionRange:function(a,F,h){var x;(x=i.current)===null||x===void 0||x.setSelectionRange(a,F,h)},select:function(){var a;(a=i.current)===null||a===void 0||a.select()},input:i.current}}),y.exports.useEffect(function(){B(function(u){return u&&b?!1:u})},[b]);var M=function(a){e.value===void 0&&L(a.target.value),i.current&&ee(i.current,a,c)},S=function(a){$&&a.key==="Enter"&&$(a),C==null||C(a)},_=function(a){B(!0),t==null||t(a)},Q=function(a){B(!1),r==null||r(a)},U=function(a){L(""),K(),i.current&&ee(i.current,a,c)},G=function(){var a=ie(e,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","showCount","classes","htmlSize","styles","classNames"]);return E("input",{autoComplete:s,...a,onChange:M,onFocus:_,onBlur:Q,onKeyDown:S,className:g(N,R({},"".concat(N,"-disabled"),b),v==null?void 0:v.input),style:l==null?void 0:l.input,ref:i,size:D,type:p})},H=function(){var a=Number(I)>0;if(k||w){var F=ne(o),h=oe(F).length,x=ae(w)==="object"?w.formatter({value:F,count:h,maxLength:I}):"".concat(h).concat(a?" / ".concat(I):"");return T(se,{children:[!!w&&E("span",{className:g("".concat(N,"-show-count-suffix"),R({},"".concat(N,"-show-count-has-suffix"),!!k),v==null?void 0:v.count),style:W({},l==null?void 0:l.count),children:x}),k]})}return null};return E(de,{...m,prefixCls:N,className:O,inputElement:G(),handleReset:U,value:ne(o),focused:V,triggerFocus:K,suffix:H(),disabled:b,classes:q,classNames:v,styles:l})});export{de as B,Ce as I,ne as f,ee as r};
